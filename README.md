# Tic-Tac-Toe Game Development with React

ржПржЗ Tutorial-ржП ржЖржкржирж┐ ржПржХржЯрж┐ ржЫрзЛржЯ Tic-Tac-Toe Game рждрзИрж░рж┐ ржХрж░ржмрзЗржиред ржПржЗ Tutorial-ржЯрж┐ ржПржоржиржнрж╛ржмрзЗ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ржпрж╛рждрзЗ React рж╕ржорзНржкрж░рзНржХрзЗ ржЖржЧрзЗ ржерзЗржХрзЗ ржХрзЛржирзЛ ржЬрзНржЮрж╛ржи ржерж╛ржХрж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗред ржПржЦрж╛ржирзЗ React-ржПрж░ ржорзВрж▓ ржзрж╛рж░ржгрж╛ржЧрзБрж▓рзЛ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ рж╢рзЗржЦрж╛ржирзЛ рж╣ржмрзЗред

ржПржЗ Tutorial-ржП ржЖржкржирж┐ ржпрзЗрж╕ржм ржХрзМрж╢рж▓ рж╢рж┐ржЦржмрзЗржи, рж╕рзЗржЧрзБрж▓рзЛ React-ржПрж░ ржпрзЗржХрзЛржирзЛ Application рждрзИрж░рж┐рж░ ржорзМрж▓рж┐ржХ ржнрж┐рждрзНрждрж┐ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗред ржЖржкржирж┐ ржпржжрж┐ ржПржЗ ржЕржВрж╢ржЧрзБрж▓рзЛ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрзБржЭрзЗ ржирзЗржи, рждрж╛рж╣рж▓рзЗ React-ржПрж░ ржнрж┐рждрж░рзЗрж░ ржХрж╛ржЬржЧрзБрж▓рзЛ рж╕ржорзНржкрж░рзНржХрзЗ ржПржХржЯрж┐ ржЧржнрзАрж░ ржзрж╛рж░ржгрж╛ ржЕрж░рзНржЬржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи, ржпрж╛ ржнржмрж┐рж╖рзНржпрждрзЗ ржмржбрж╝ ржмрж╛ ржЬржЯрж┐рж▓ React Project рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╣рж╛ржпрж╝рждрж╛ ржХрж░ржмрзЗред

![Tic-Tac-Toe](./src/assets/images/tic.png)

[Click Here to View The Game Live](https://tic-tac-toe-with-react-and-tailwind.vercel.app/)

ржПржЗ Project ржЯрж┐ ржХрж┐ржнрж╛ржмрзЗ Step by Step рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржмрзЗ, рждрж╛ ржирж┐ржЪрзЗ ржжрзЗрзЯрж╛ рж╣рж▓рзЛржГ

## ЁЯУЪ Steps

1. [Project Setup](#1-project-setup)

## 1. Project Setup

1. Creating The Project With Vite
   - `npm create vite@latest my-project`
   - `cd my project`
2. Installing `tailwindcss` and `@tailwindcss/vite` via npm
   - `npm install tailwindcss @tailwindcss/vite`
3. Configuring the Vite plugin

   ```js
   import { defineConfig } from "vite";
   import tailwindcss from "@tailwindcss/vite";

   export default defineConfig({
     plugins: [tailwindcss()],
   });
   ```

   ржПржЦрж╛ржирзЗ `import tailwindcss from '@tailwindcss/vite'` ржПржЗ рж▓рж╛ржЗржи ржПржмржВ `plugins:[]` ржПрж░ ржоржзрзНржпрзЗ `tailwindcss()` ржЕрзНржпрж╛ржб ржХрж░рзБржиред

4. Importing Tailwind CSS
   - index.css ржлрж╛ржЗрж▓рзЗ ржпрж╛ ржЖржЫрзЗ рж╕ржм ржХрзЗржЯрзЗ ржжрж┐рзЯрзЗ `@import "tailwindcss";` ржПржЗржЯрж╛ ржЕрзНржпрж╛ржб ржХрж░рзБржиред
5. Run The Project
   - `npm run dev` ржПржЗ Command ржЯрж┐ ржжрж┐рзЯрзЗ Project ржЯрж┐ Run ржХрж░рзБржиред

## 2. Building The Board Component

```js
export default function Board() {
  return (
    <>
      <div>
        <button className="square">1</button>
        <button className="square">2</button>
        <button className="square">3</button>
      </div>
      <div>
        <button className="square">4</button>
        <button className="square">5</button>
        <button className="square">6</button>
      </div>
      <div>
        <button className="square">7</button>
        <button className="square">8</button>
        <button className="square">9</button>
      </div>
    </>
  );
}
```

Board Component UI ржЯрж╛ ржирж┐ржЪрзЗрж░ ржорждрзЛ рж╣ржмрзЗржГ

![Board](./src/assets/images/board1.png)

## 3. Creating The Square Component

```js
export default function Square() {
  return <button className="border w-12 h-12 text-lg">1</button>;
}
```

```js
export default function Board() {
  return (
    <>
      <div className="flex">
        <Square />
        <Square />
        <Square />
      </div>
      <div className="flex">
        <Square />
        <Square />
        <Square />
      </div>
      <div className="flex">
        <Square />
        <Square />
        <Square />
      </div>
    </>
  );
}
```

ржпрзЗрж╣рзЗрждрзБ Square Component ржПрж░ button ржПрж░ ржоржзрзНржпрзЗ ржХрзЗржмрж▓ '1' ржЖржЫрзЗ, рждрж╛ржЗ Board ржЯрж╛ ржжрзЗржЦрждрзЗ ржирж┐ржЪрзЗрж░ ржорждрзЛ рж╣ржмрзЗред

![Board 2](./src/assets/images/board2.png)

Oh No! ржПржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ Square-ржП ржПржХржЗ рж╕ржВржЦрзНржпрж╛ тАЬ1тАЭ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗред ржПржЯрж┐ ржарж┐ржХ ржХрж░рждрзЗ props ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рждрзЗ parent component (Board) ржерзЗржХрзЗ child component (Square)-ржП ржкрзНрж░рждрж┐ржЯрж┐ Square-ржПрж░ ржЖрж▓рж╛ржжрж╛ value ржкрж╛ржарж╛ржирзЛ ржпрж╛ржпрж╝ред

So, Updated Board Component рж╣ржмрзЗ ржирж┐ржЪрзЗрж░ ржорждрзЛржГ

```js
export default function Board() {
  return (
    <>
      <div className="flex">
        <Square value="1" />
        <Square value="2" />
        <Square value="3" />
      </div>
      <div className="flex">
        <Square value="4" />
        <Square value="5" />
        <Square value="6" />
      </div>
      <div className="flex">
        <Square value="7" />
        <Square value="8" />
        <Square value="9" />
      </div>
    </>
  );
}
```

ржПржмржВ Updated Square Component рж╣ржмрзЗ ржирж┐ржЪрзЗрж░ ржорждрзЛржГ

```js
function Square({ value }) {
  return <button className="border w-12 h-12 text-lg">value</button>;
}
```

ржПржЦржи Board ржЯрж┐ ржЖржЧрзЗрж░ ржорждрзЛ 1, 2, 3...9 ржжрзЗржЦрж╛ржмрзЗред

## 4. Making The Component Interactive

ржПржЦржи Square component-ржЯрж┐ржХрзЗ interactive ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ, ржЕрж░рзНржерж╛рзО Button-ржП Click ржХрж░рж▓рзЗ ржХрзЛржирзЛ ржХрж╛ржЬ рж╣ржмрзЗред ржПржЬржирзНржп Square-ржПрж░ ржнрж┐рждрж░рзЗ ржПржХржЯрж┐ ржирждрзБржи Function рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛рж░ ржирж╛ржо handleClick()ред ржПржЗ Function-ржПрж░ ржХрж╛ржЬ рж╣рж▓рзЛ, ржпржЦржиржЗ Button-ржП Click ржХрж░рж╛ рж╣ржмрзЗ, рждржЦржи Console-ржП тАЬclicked!тАЭ ржорзЗрж╕рзЗржЬ ржжрзЗржЦрж╛ржирзЛред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржПржЯрж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:

```js
function Square({ value }) {
  function handleClick() {
    console.log("clicked!");
  }

  return (
    <button className="square" onClick={handleClick}>
      {value}
    </button>
  );
}
```

ржПржЦрж╛ржирзЗ onClick={handleClick} рж╣рж▓рзЛ Button-ржПрж░ ржПржХржЯрж┐ event handler, ржпрж╛ Button Click рж╣ржУржпрж╝рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ handleClick() Function-ржЯрж┐ржХрзЗ Call ржХрж░рзЗред ржПрж░ ржлрж▓рзЗ ржкрзНрж░рждрж┐ржмрж╛рж░ Click ржХрж░рж▓рзЗ Console-ржП тАЬclicked!тАЭ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред ржПржХржЗ Button-ржП ржПржХрж╛ржзрж┐ржХржмрж╛рж░ Click ржХрж░рж▓рзЗ Console-ржП ржирждрзБржи рж▓рж╛ржЗржи рждрзИрж░рж┐ рж╣ржмрзЗ ржирж╛; ржмрж░ржВ ржкрзНрж░ржержо тАЬclicked!тАЭ ржорзЗрж╕рзЗржЬрзЗрж░ ржкрж╛рж╢рзЗ ржПржХржЯрж┐ Counter ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ, ржпрж╛ ржкрзНрж░рждрж┐ Click-ржПрж░ рж╕рж╛ржерзЗ ржмрзГржжрзНржзрж┐ ржкрж╛ржмрзЗред

### 4.1: React State

ржПржЦржи ржЖржкржирж┐ ржЪрж╛ржи Square component ржпрзЗржи Click рж╣ржУржпрж╝рж╛рж░ ржкрж░ рж╕рзЗржЯрж╛ тАЬржоржирзЗ рж░рж╛ржЦрзЗтАЭ ржПржмржВ ржнрзЗрждрж░рзЗ ржПржХржЯрж┐ тАЬXтАЭ mark ржжрзЗржЦрж╛ржпрж╝ред ржХрзЛржирзЛ ржХрж┐ржЫрзБ тАЬржоржирзЗ рж░рж╛ржЦрждрзЗтАЭ React component-ржЧрзБрж▓рзЛ state ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

React ржПржХржЯрж┐ ржмрж┐рж╢рзЗрж╖ Function ржжрзЗржпрж╝, ржпрж╛рж░ ржирж╛ржо useStateред ржПржЯрж┐ component-ржПрж░ ржнрж┐рждрж░рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ ржпрзЗржи ржХрзЛржирзЛ ржорж╛ржи (value) рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛ржпрж╝ ржПржмржВ ржкрж░рзЗ ржкрзНрж░ржпрж╝рзЛржЬржирзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржпрж╝ред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ useState ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Square component-ржПрж░ ржнрзЗрждрж░рзЗ value рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:

```js
import { useState } from "react";

function Square() {
  const [value, setValue] = useState(null);

  function handleClick() {
    //...
  }
}
```

ржПржЦрж╛ржирзЗ value рж╣ржЪрзНржЫрзЗ state variable, ржпрзЗржЦрж╛ржирзЗ ржмрж░рзНрждржорж╛ржи ржорж╛ржи (current value) рж░рж╛ржЦрж╛ рж╣ржпрж╝ред ржЖрж░ setValue рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ Function ржпрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рзЗржЗ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржпрж╝ред

useState(null) ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ state-ржПрж░ initial value ржмрж╛ рж╢рзБрж░рзБрж░ ржорж╛ржи рж╣ржмрзЗ nullред ржЕрж░рзНржерж╛рзО, ржкрзНрж░ржержорзЗ Square-ржПрж░ ржнрж┐рждрж░рзЗ ржХрзЛржирзЛ value ржерж╛ржХржмрзЗ ржирж╛ред ржкрж░рзЗ ржпржЦржи Click event ржШржЯржмрзЗ, рждржЦржи setValue ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПрж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗ, ржпрзЗржоржи тАЬXтАЭ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗред

ржПржЦржи ржпрзЗрж╣рзЗрждрзБ Square component ржЖрж░ props ржЧрзНрж░рж╣ржг ржХрж░ржЫрзЗ ржирж╛, рждрж╛ржЗ Board component-ржПрж░ ржнрж┐рждрж░рзЗ ржпрзЗрж╕ржм ржЬрж╛рзЯржЧрж╛рзЯ ржирзЯржЯрж┐ Square рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, рж╕рзЗржЧрзБрж▓рзЛ ржерзЗржХрзЗ value prop ржорзБржЫрзЗ ржжрж┐рждрзЗ рж╣ржмрзЗред

ржЖржЧрзЗ ржкрзНрж░рждрж┐ржЯрж┐ Square component-ржП ржПржнрж╛ржмрзЗ value ржкрж╛ржарж╛ржирзЛ рж╣ржЪрзНржЫрж┐рж▓ тАФ

```js
<Square value="1" />
<Square value="2" />
<Square value="3" />
...
```

ржХрж┐ржирзНрждрзБ ржПржЦржи Square ржирж┐ржЬрзЗржЗ useState ржПрж░ ржорж╛ржзрзНржпржорзЗ ржирж┐ржЬрзЗрж░ value рж╕ржВрж░ржХрзНрж╖ржг ржХрж░ржмрзЗ, рждрж╛ржЗ Board component ржерзЗржХрзЗ value ржкрж╛ржарж╛ржирзЛрж░ ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗред ржПржЬржирзНржп ржкрзНрж░рждрж┐ржЯрж┐ Square ржПржЦржи ржПржнрж╛ржмрзЗ рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ тАФ

```js
<Square />
<Square />
<Square />
...

```

ржПрждрзЗ ржХрж░рзЗ Square component рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ ржирж┐ржЬрзЗржЗ ржирж┐ржЬрзЗрж░ data ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░ржмрзЗ (self-contained), ржЕрж░рзНржерж╛рзО рж╕рзЗ ржЖрж░ parent component-ржПрж░ ржУржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░ржмрзЗ ржирж╛ред

ржПржЦржи Square component-ржЯрж┐ Click ржХрж░рж▓рзЗ ржпрж╛рждрзЗ тАЬXтАЭ ржжрзЗржЦрж╛рзЯ рж╕рзЗржЯрж┐ ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЬржирзНржп handleClick() Function-ржПрж░ ржнрж┐рждрж░рзЗрж░ console.log("clicked!") ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ setValue('X') ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ Square component ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ:

```js
function Square() {
  const [value, setValue] = useState(null);

  function handleClick() {
    setValue("X");
  }

  return (
    <button className="square" onClick={handleClick}>
      {value}
    </button>
  );
}
```

ржпржЦржи ржЖржкржирж┐ onClick handler-ржПрж░ ржнрж┐рждрж░ ржерзЗржХрзЗ setValue Function-ржЯрж┐ ржХрж▓ ржХрж░рзЗржи, рждржЦржи ржЖржкржирж┐ React-ржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржжрж┐ржЪрзНржЫрзЗржи ржпрж╛рждрзЗ Button-ржП Click рж╣рж▓рзЗржЗ рж╕рзЗржЗ Square component ржкрзБржирж░рж╛ржпрж╝ re-render рж╣ржпрж╝ред

ржпржЦржи React re-render ржХрж░рзЗ, рждржЦржи value-ржПрж░ ржирждрзБржи ржорж╛ржи 'X' рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред ржПрж░ ржлрж▓рзЗ рж╕рзЗржЗ Square-ржПрж░ ржнрж┐рждрж░рзЗ тАЬXтАЭ Display рж╣ржпрж╝ред ржЕрж░рзНржерж╛рзО, Click ржХрж░рж╛рж░ ржкрж░ React component-ржПрж░ state ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ ржПржмржВ UI рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ рж╣ржпрж╝рзЗ ржирждрзБржи ржорж╛ржи ржжрзЗржЦрж╛ржпрж╝ред

ржПржЦржи ржЖржкржирж┐ ржпрзЗржХрзЛржирзЛ Square-ржП Click ржХрж░рж▓рзЗ, рж╕рзЗржЯрж┐рж░ ржнрж┐рждрж░рзЗ тАЬXтАЭ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред

![board3](./src/assets/images/board3.gif)

ржкрзНрж░рждрж┐ржЯрж┐ Square-ржПрж░ ржирж┐ржЬрж╕рзНржм state ржЖржЫрзЗ тАФ ржЕрж░рзНржерж╛рзО ржкрзНрж░рждрж┐ржЯрж┐ Square-ржПрж░ ржоржзрзНржпрзЗ ржерж╛ржХрж╛ 'value' рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ ржЕржирзНржп Square-ржЧрзБрж▓рзЛрж░ ржерзЗржХрзЗ рж╕рзНржмрж╛ржзрзАржи (independent)ред ржПржХржЯрж┐рж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ ржЕржирзНржпржЧрзБрж▓рзЛрж░ ржЙржкрж░ ржХрзЛржирзЛ ржкрзНрж░ржнрж╛ржм ржкржбрж╝рзЗ ржирж╛ред

ржпржЦржи ржЖржкржирж┐ ржХрзЛржирзЛ component-ржПрж░ ржнрж┐рждрж░рзЗ ржерж╛ржХрж╛ set Function (ржпрзЗржоржи setValue) ржХрж▓ ржХрж░рзЗржи, рждржЦржи React рж╕рзЗржЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ component-ржЯрж┐ржХрзЗ ржкрзБржирж░рж╛ржпрж╝ render ржХрж░рзЗред ржПржХржЗ рж╕ржЩрзНржЧрзЗ, ржпржжрж┐ рждрж╛рж░ ржнрж┐рждрж░рзЗ ржЕржирзНржп child components ржерж╛ржХрзЗ, React рж╕рзЗржЧрзБрж▓рзЛржХрзЗржУ ржкрзНрж░ржпрж╝рзЛржЬржирзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ update ржХрж░рзЗред

ржПржЗржнрж╛ржмрзЗ React ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ UI рж╕рж░рзНржмржжрж╛ component state-ржПрж░ рж╕рж╛ржерзЗ sync ржерж╛ржХрзЗ, ржЕрж░рзНржерж╛рзО state ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ UI-ржУ рж╕ржЩрзНржЧрзЗ рж╕ржЩрзНржЧрзЗ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝ред

## 5. React Developer Tools

Chrome Extension ржерзЗржХрзЗ ржирж┐ржЪрзЗрж░ Extension ржЯрж┐ Install ржХрж░рзБржиред

![Extension](./src/assets/images/extension.png)

**React DevTools** ржПржоржи ржПржХржЯрж┐ ржЯрзБрж▓ ржпрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ React components-ржПрж░ **props** ржПржмржВ **state** Check ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ рж╕рж╣ржЬрзЗржЗ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗржитАФ

- ржкрзНрж░рждрж┐ржЯрж┐ component-ржПрж░ ржоржзрзНржпрзЗ ржХрзА ржХрзА props ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ,
- рж╕рзЗржЗ component-ржПрж░ ржмрж░рзНрждржорж╛ржи state ржХрзА ржЕржмрж╕рзНржерж╛ржпрж╝ ржЖржЫрзЗ,
- ржПржмржВ ржХрзЛржирзЛ state ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржлрж▓рзЗ UI ржХрзАржнрж╛ржмрзЗ re-render рж╣ржЪрзНржЫрзЗред

ржПржЗ ржЯрзБрж▓ржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд **Browser Extension** ржЖржХрж╛рж░рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ (ржпрзЗржоржи Chrome ржмрж╛ Firefox ржП)ред ржПржЯрж┐ Developer Tools-ржПрж░ ржоржзрзНржпрзЗ тАЬтЪЫя╕П ComponentsтАЭ ржирж╛ржорзЗ ржПржХржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржЯрзНржпрж╛ржм Add ржХрж░рзЗ, ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ React Application-ржПрж░ component tree, props, ржПржмржВ state ржЦрзБржм рж╕рж╣ржЬрзЗ ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

![Dev Tool](./src/assets/images/devtools-select.gif)

## 6. Lifting State Up

ржПржЦржи ржкрж░рзНржпржирзНржд ржЖржкржирж┐ Tic-Tac-Toe ржЧрзЗржорзЗрж░ рж╕ржм **basic building blocks** рждрзИрж░рж┐ ржХрж░рзЗ ржлрзЗрж▓рзЗржЫрзЗржиред ржХрж┐ржирзНрждрзБ рж╕ржорзНржкрзВрж░рзНржг ржПржХржЯрж┐ ржЧрзЗржо рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣рж▓рзЗ ржПржЦржи ржжрж░ржХрж╛рж░ тАФ

1. тАЬXтАЭ ржПржмржВ тАЬOтАЭ **alternately** ржмрж╕рж╛ржирзЛрж░ ржмрзНржпржмрж╕рзНржерж╛ ржХрж░рж╛, ржПржмржВ
2. ржХрж╛рж░рж╛ **winner** рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛рж░ ржПржХржЯрж┐ system рждрзИрж░рж┐ ржХрж░рж╛ред

ржПржЦржи ржкрж░рзНржпржирзНржд ржкрзНрж░рждрж┐ржЯрж┐ **Square** component ржирж┐ржЬ ржирж┐ржЬ **state** ржзрж░рзЗ рж░рж╛ржЦржЫрзЗред ржХрж┐ржирзНрждрзБ Winner ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛рж░ ржЬржирзНржп Board component-ржПрж░ ржЬрж╛ржирж╛ ржжрж░ржХрж╛рж░ ржкрзНрж░рждрж┐ржЯрж┐ 9ржЯрж┐ Square-ржПрж░ ржмрж░рзНрждржорж╛ржи ржорж╛ржи ржХрзАред

ржПржХржЯрж┐ ржзрж╛рж░ржгрж╛ рж╣рждрзЗ ржкрж╛рж░рзЗ тАФ Board component ржпрзЗржи ржкрзНрж░рждрж┐ржЯрж┐ Square ржерзЗржХрзЗ рждрж╛рж░ state тАЬржЬрзЗржирзЗ ржирзЗрзЯредтАЭ ржпржжрж┐ржУ React-ржП ржПржЯрж┐ ржХрж░рж╛ рж╕ржорзНржнржм, ржХрж┐ржирзНрждрзБ ржПржЗ ржкржжрзНржзрждрж┐рждрзЗ ржХрзЛржб ржЬржЯрж┐рж▓ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝, ржнрзБрж▓ рж╣ржУржпрж╝рж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржмрж╛ржбрж╝рзЗ ржПржмржВ ржкрж░рзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржХржарж┐ржи рж╣ржпрж╝ред

рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐ рж╣рж▓рзЛ тАФ ржЧрзЗржорзЗрж░ рж╕ржорж╕рзНржд **state Board component-ржПрж░ ржнрж┐рждрж░рзЗ рж░рж╛ржЦрж╛**, ржПржмржВ рж╕рзЗржЗ state ржерзЗржХрзЗ ржкрзНрж░рждрж┐ржЯрж┐ Square ржХрзА ржжрзЗржЦрж╛ржмрзЗ рждрж╛ props ржЖржХрж╛рж░рзЗ ржкрж╛ржарж╛ржирзЛред

ржЕрж░рзНржерж╛рзО,

- **Shared data** (ржпрж╛ ржПржХрж╛ржзрж┐ржХ child component-ржПрж░ ржоржзрзНржпрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗ) parent component (Board)-ржПрж░ ржоржзрзНржпрзЗ рж░рж╛ржЦрж╛ ржЙржЪрж┐рждред
- рждрж╛рж░ржкрж░ parent component рж╕рзЗржЗ data **props** ржЖржХрж╛рж░рзЗ child component-ржЧрзБрж▓рзЛрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж╛ржмрзЗред
  ржПржнрж╛ржмрзЗ рж╕ржм child components ржирж┐ржЬрзЗржжрзЗрж░ ржоржзрзНржпрзЗ ржПржмржВ parent component-ржПрж░ рж╕рж╛ржерзЗ рж╕ржмрж╕ржоржпрж╝ **synchronized** ржерж╛ржХржмрзЗред

ржПржЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрзЗ ржмрж▓рж╛ рж╣ржпрж╝ **Lifting State Up**, ржпрж╛ React component refactor ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржкрзНрж░рж╛ржпрж╝ржЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

ржПржЦржи Board component-ржП ржПржХржЯрж┐ state variable рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ, ржпрж╛рж░ ржирж╛ржо `squares`ред ржПржЯрж┐ 9ржЯрж┐ `null` Value ржжрж┐ржпрж╝рзЗ рждрзИрж░рж┐ ржПржХржЯрж┐ array, ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ Square-ржПрж░ by default value `null` рж░рж╛ржЦржмрзЗред

```jsx
// ...
export default function Board() {
  const [squares, setSquares] = useState(Array(9).fill(null));
  return (
    // ...
  );
}
```

ржПржЦрж╛ржирзЗ `squares` рж╣рж▓рзЛ Board component-ржПрж░ state, ржПржмржВ `setSquares` рж╣рж▓рзЛ рж╕рзЗржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд functionред

`const [squares, setSquares] = useState(Array(9).fill(null));` ржПржЗ рж▓рж╛ржЗржиржЯрж┐ ржмрзЛржЭрж╛ржпрж╝ тАФ

- `squares` рж╣рж▓рзЛ state variable ржпрзЗржЦрж╛ржирзЗ board-ржПрж░ ржмрж░рзНрждржорж╛ржи ржЕржмрж╕рзНржерж╛ рж░рж╛ржЦрж╛ рж╣ржмрзЗред
- `setSquares` рж╣рж▓рзЛ ржПржХржЯрж┐ function, ржпрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЗ array-рж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗред

ржПржЗ array-ржПрж░ ржкрзНрж░рждрж┐ржЯрж┐ entry ржмрж╛ index ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ **Square**-ржПрж░ ржорж╛ржи ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржпржжрж┐ ржкрж░рзЗ ржЖржкржирж┐ board ржкрзВрж░ржг ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ `squares` array ржПржоржи ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗ тАФ

```js
["O", null, "X", "X", "X", "O", "O", null, null];
```

ржПржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ element board-ржПрж░ ржПржХржЯрж┐ Square-ржПрж░ value ржирж┐рж░рзНржжрзЗрж╢ ржХрж░ржЫрзЗред ржпрзЗржоржи, ржкрзНрж░ржержо Square-ржП `'O'`, ржжрзНржмрж┐рждрзАржпрж╝ Square ржлрж╛ржБржХрж╛ (`null`), рждрзГрждрзАржпрж╝ Square-ржП `'X'`, ржЗрждрзНржпрж╛ржжрж┐ред

ржПржЦржи Board component-ржХрзЗ ржкрзНрж░рждрж┐ржЯрж┐ Square-ржПрж░ ржЬржирзНржп **value prop** ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗ, ржпрж╛рждрзЗ Square ржЬрж╛ржирзЗ рж╕рзЗ ржХрзЛржи ржорж╛ржи (value) ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░ржмрзЗред

Board component-ржПрж░ ржХрзЛржб ржирж┐ржЪрзЗрж░ ржорждрзЛ рж╣ржмрзЗ:

```jsx
export default function Board() {
  const [squares, setSquares] = useState(Array(9).fill(null));
  return (
    <>
      <div className="flex">
        <Square value={squares[0]} />
        <Square value={squares[1]} />
        <Square value={squares[2]} />
      </div>
      <div className="flex">
        <Square value={squares[3]} />
        <Square value={squares[4]} />
        <Square value={squares[5]} />
      </div>
      <div className="flex">
        <Square value={squares[6]} />
        <Square value={squares[7]} />
        <Square value={squares[8]} />
      </div>
    </>
  );
}
```

ржкрзНрж░рждрж┐ржЯрж┐ `<Square />` component `value` prop рж╣рж┐рж╕рзЗржмрзЗ ржПржЗ array-ржПрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ index (ржпрзЗржоржи `squares[0]`, `squares[1]`, ржЗрждрзНржпрж╛ржжрж┐) ржкрж╛ржпрж╝ред

ржПрж░ ржлрж▓рзЗ Board component ржПржЦржи ржкрзБрж░рзЛ ржЧрзЗржо ржмрзЛрж░рзНржбрзЗрж░ data ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░ржЫрзЗ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ Square ржХрзЗржмрж▓ рждрж╛рж░ parent ржерзЗржХрзЗ ржкрзНрж░рж╛ржкрзНржд value ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░ржЫрзЗред

ржПржЦржи Square component-ржХрзЗ ржПржоржиржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ Board component ржерзЗржХрзЗ ржкрж╛ржарж╛ржирзЛ **value prop** ржЧрзНрж░рж╣ржг ржХрж░рзЗ ржПржмржВ рж╕рзЗржЯрж┐ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзЗред ржПржЬржирзНржп Square component-ржПрж░ ржирж┐ржЬрзЗрж░ **state** ржПржмржВ **onClick** handler ржорзБржЫрзЗ ржлрзЗрж▓рждрзЗ рж╣ржмрзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ Square component ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ:

```jsx
function Square({ value }) {
  return <button className="square">{value}</button>;
}
```

ржПржЦрж╛ржирзЗ Square component рж╢рзБржзрзБржорж╛рждрзНрж░ Board ржерзЗржХрзЗ ржкрж╛ржУрзЯрж╛ `value` ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░ржЫрзЗред ржпрзЗрж╣рзЗрждрзБ Board-ржПрж░ `squares` state-ржПрж░ рж╕ржм ржорж╛ржи рж╢рзБрж░рзБрждрзЗ `null`, рждрж╛ржЗ ржПржЗ ржорзБрж╣рзВрж░рзНрждрзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржПржХржЯрж┐ **ржЦрж╛рж▓рж┐ tic-tac-toe board** ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред

![board](./src/assets/images/board.png)

ржПржЦржи ржкрзНрж░рждрж┐ржЯрж┐ Square component ржПржХржЯрж┐ **value prop** ржкрж╛ржмрзЗ, ржпрж╛ `'X'`, `'O'`, ржЕржержмрж╛ `null` рж╣рждрзЗ ржкрж╛рж░рзЗред `'X'` ржмрж╛ `'O'` ржорж╛ржирзЗ Square ржкрзВрж░рзНржг, ржЖрж░ `null` ржорж╛ржирзЗ Square ржЦрж╛рж▓рж┐ред

### 6.1: What Will Happen When A Square is Clicked

ржПржЦржи ржкрзНрж░рзЯрзЛржЬржи Square-ржП Click ржХрж░рж▓рзЗ ржХрзА ржШржЯржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ред ржпрзЗрж╣рзЗрждрзБ ржПржЦржи Board component ржЬрж╛ржирзЗ ржХрзЛржи ржХрзЛржи Square ржкрзВрж░рзНржг рж╣ржпрж╝рзЗржЫрзЗ, рждрж╛ржЗ Square-ржХрзЗ ржПржоржиржнрж╛ржмрзЗ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ Click ржХрж░рж╛рж░ рж╕ржорзЯ рж╕рзЗ Board-ржПрж░ state ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ржХрж┐ржирзНрждрзБ React-ржП state **private**, ржЕрж░рзНржерж╛рзО ржпрзЗржЗ component state рждрзИрж░рж┐ ржХрж░рзЗржЫрзЗ, рж╕рзЗржЯрж┐ ржЫрж╛рзЬрж╛ ржЕржирзНржп ржХрзЛржирзЛ component рж╕рж░рж╛рж╕рж░рж┐ рж╕рзЗржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред рждрж╛ржЗ Square ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ Board-ржПрж░ state ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред

ржПржЗ рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржи рж╣рж▓рзЛ тАФ Board ржерзЗржХрзЗ ржПржХржЯрж┐ **function prop** ржЖржХрж╛рж░рзЗ ржирж┐ржЪрзЗ ржкрж╛ржарж╛ржирзЛ, ржПржмржВ Square рж╕рзЗржЗ function-ржЯрж┐ Click ржЗржнрзЗржирзНржЯрзЗ ржХрж▓ ржХрж░ржмрзЗред

Square component ржирж┐ржЪрзЗрж░ ржорждрзЛ рж╣ржмрзЗ:

```jsx
function Square({ value }) {
  return (
    <button className="square" onClick={onSquareClick}>
      {value}
    </button>
  );
}
```

ржПржЦрж╛ржирзЗ `onClick={onSquareClick}` Button ржЯрж┐ Click ржХрж░рж▓рзЗ Board ржерзЗржХрзЗ ржкрж╛ржарж╛ржирзЛ function-ржЯрж┐ ржХрж▓ ржХрж░ржмрзЗред

ржПржЦржи Square component-ржП `onSquareClick` function-ржЯрж┐ **props** рж╣рж┐рж╕рзЗржмрзЗ ржпрзБржХрзНржд ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рждрзЗ ржПржЯрж┐ Board component ржерзЗржХрзЗ ржкрж╛ржарж╛ржирзЛ function ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ржЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ:

```jsx
function Square({ value, onSquareClick }) {
  return (
    <button className="square" onClick={onSquareClick}>
      {value}
    </button>
  );
}
```

ржПржЦрж╛ржирзЗ Square component ржжрзБржЯрж┐ props ржЧрзНрж░рж╣ржг ржХрж░ржЫрзЗ тАФ

- **value:** Square-ржПрж░ ржнрж┐рждрж░рзЗ ржХрзЛржи ржорж╛ржи ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ (`'X'`, `'O'`, ржЕржержмрж╛ `null`)
- **onSquareClick:** ржПржХржЯрж┐ function, ржпрж╛ Square-ржП Click ржХрж░рж╛рж░ рж╕ржоржпрж╝ Call рж╣ржмрзЗред

ржПржЗржнрж╛ржмрзЗ Square component ржирж┐ржЬрзЗ state ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржирж╛ ржХрж░рзЗ, ржХрзЗржмрж▓ Board ржерзЗржХрзЗ ржкрж╛ржарж╛ржирзЛ data (value) Display ржХрж░ржмрзЗ ржПржмржВ Click event ржШржЯрж▓рзЗ Board ржерзЗржХрзЗ ржкрж╛ржарж╛ржирзЛ function ржХрж▓ ржХрж░ржмрзЗред

### 6.2: Implementing handleClick() Function in Board Component

ржПржЦржи `onSquareClick` prop-ржЯрж┐ржХрзЗ Board component-ржПрж░ ржПржХржЯрж┐ Function-ржПрж░ рж╕ржЩрзНржЧрзЗ Connect ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рж░ ржирж╛ржо рж╣ржмрзЗ **handleClick**ред ржПрж░ ржорж╛ржзрзНржпржорзЗ Square component ржпржЦржи Click рж╣ржмрзЗ, рждржЦржи Board-ржПрж░ ржнрж┐рждрж░рзЗ ржерж╛ржХрж╛ ржПржЗ handleClick() Function-ржЯрж┐ Call рж╣ржмрзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржкрзНрж░ржержо Square component-ржПрж░ ржоржзрзНржпрзЗ `onSquareClick` рж╣рж┐рж╕рзЗржмрзЗ `handleClick` Function ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ:

```jsx
export default function Board() {
  const [squares, setSquares] = useState(Array(9).fill(null));

  return (
    <>
      <div className="board-row">
        <Square value={squares[0]} onSquareClick={handleClick} />
        {/* ... */}
      </div>
    </>
  );
}
```

ржПржнрж╛ржмрзЗ `Square` component ржпржЦржи Click рж╣ржмрзЗ, рждржЦржи рж╕рзЗ **Board ржерзЗржХрзЗ ржкрж╛ржарж╛ржирзЛ handleClick() Function** ржХрж▓ ржХрж░ржмрзЗред ржПрж░ржкрж░ ржПржЗ handleClick() Function-ржПрж░ ржорж╛ржзрзНржпржорзЗ Board-ржПрж░ state (`squares`) ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗред

рж╕ржмрж╢рзЗрж╖рзЗ, Board component-ржПрж░ ржнрж┐рждрж░рзЗ `handleClick()` Function рждрзИрж░рж┐ ржХрж░рж╛ ржХрж░ржмрзЛ, ржпрж╛ Board ржПрж░ State Update ржХрж░ржмрзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржПржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ:

```jsx
export default function Board() {
  const [squares, setSquares] = useState(Array(9).fill(null));

  function handleClick() {
    const nextSquares = squares.slice();
    nextSquares[0] = "X";
    setSquares(nextSquares);
  }

  return (
    // ...
  )
}
```

ржПржЦрж╛ржирзЗ `squares.slice()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ `squares` array-ржПрж░ ржПржХржЯрж┐ **copy** рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржпред React-ржП Array ржмрж╛ Object ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ state рж╕рж░рж╛рж╕рж░рж┐ ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рзЗ рждрж╛рж░ ржПржХржЯрж┐ copy рждрзИрж░рж┐ ржХрж░рзЗ рж╕рзЗржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рж╛ ржЙржЪрж┐рждред

ржПрж░ржкрж░ `nextSquares[0] = "X";` ржжрж┐ржпрж╝рзЗ ржкрзНрж░ржержо Square-ржПрж░ ржорж╛ржи `'X'` рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржПржмржВ `setSquares(nextSquares)` ржжрж┐ржпрж╝рзЗ Board-ржПрж░ state ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

ржПрж░ ржорж╛ржирзЗ тАФ ржпржЦржи `handleClick()` Function ржХрж▓ ржХрж░рж╛ рж╣ржмрзЗ, рждржЦржи ржкрзНрж░ржержо Square-ржП тАЬXтАЭ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ, ржХрж╛рж░ржг Board-ржПрж░ state ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝рзЗржЫрзЗред рждрж╛ржЗ Board Component Re-render рж╣ржмрзЗред ржЖрж░ React ржП ржХрзЛржи Component ржпржжрж┐ Render рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рждрж╛рж░ Child Component-ржУ Render рж╣ржмрзЗред ржЕрж░рзНржерж╛рзО ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ Board ржПрж░ рж╕рж╛ржерзЗ Square Component-ржУ Render рж╣ржмрзЗред

ржПржЦржи ржЖржкржирж┐ ржХрзЗржмрж▓ рззржо Square ржП Click ржХрж░рж▓рзЗ 'X' ржжрзЗржЦрж╛ржмрзЗред ржмрж╛ржХрж┐ Squares ржЧрзБрж▓рзЛрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржирж╛ред ржХрж╛рж░ржи ржЖржкржирж┐ Index ржжрзЗржи ржирж┐ред

### 6.3: Implementing handleClick() with Index

ржПржЦржи Board component-ржП `handleClick()` function-ржЯрж┐ ржПржоржиржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ ржпрзЗржХрзЛржирзЛ Square-ржПрж░ ржорж╛ржи ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЬржирзНржп `handleClick` function-ржП ржПржХржЯрж┐ parameter `i` ржпрзЛржЧ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛ рж╕рзЗржЗ Square-ржПрж░ index ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржПрж░ ржЖржкржбрзЗржЯрзЗржб рж╕ржВрж╕рзНржХрж░ржг:

```jsx
export default function Board() {
  const [squares, setSquares] = useState(Array(9).fill(null));

  function handleClick(i) {
    const nextSquares = squares.slice();
    nextSquares[i] = "X";
    setSquares(nextSquares);
  }

  return (
    // ...
  )
}
```

ржПржЦржи `handleClick` function-ржЯрж┐ ржпрзЗржХрзЛржирзЛ Square ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, рж╢рзБржзрзБ index ржЕржирзБржпрж╛ржпрж╝рзА рждрж╛рж░ ржЕржмрж╕рзНржерж╛ржи ржЬрж╛ржирждрзЗ рж╣ржмрзЗред

рждржмрзЗ ржпржжрж┐ ржЖржкржирж┐ JSX-ржПрж░ ржнрж┐рждрж░рзЗржЗ рж╕рж░рж╛рж╕рж░рж┐ `onSquareClick={handleClick(0)}` рж▓рж┐ржЦрзЗ ржжрзЗржи, рждрж╛рж╣рж▓рзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржмрзЗред ржХрж╛рж░ржг ржПржЯрж┐ render рж╣ржУржпрж╝рж╛рж░ рж╕рж╛ржерзЗржЗ `handleClick(0)` ржЪрж╛рж▓рзБ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗ, ржлрж▓рзЗ state ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржПржмржВ component ржЖржмрж╛рж░ render рж╣ржмрзЗред ржПрж░ ржлрж▓рзЗ `handleClick(0)` ржЖржмрж╛рж░ ржЪрж▓ржмрзЗ тАФ ржПржнрж╛ржмрзЗ ржПржХржЯрж┐ **infinite loop** рждрзИрж░рж┐ рж╣ржмрзЗред

React-ржП event handler рж╣рж┐рж╕рзЗржмрзЗ ржХрзЛржирзЛ function рж╕рж░рж╛рж╕рж░рж┐ **call** ржирж╛ ржХрж░рзЗ, рждрж╛рж░ **reference** ржкрж╛ржарж╛ржирзЛ ржЙржЪрж┐рждред ржПржЬржирзНржп рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐ рж╣ржмрзЗ тАФ

```jsx
<Square value={squares[0]} onSquareClick={() => handleClick(0)} />
```

ржПржнрж╛ржмрзЗ `handleClick(0)` ржХрзЗржмрж▓ржорж╛рждрзНрж░ рждржЦржиржЗ ржХрж▓ рж╣ржмрзЗ ржпржЦржи Square-ржП Click ржХрж░рж╛ рж╣ржмрзЗ, render рж╣ржУржпрж╝рж╛рж░ рж╕ржоржпрж╝ ржиржпрж╝ред

ржПржЦрж╛ржирзЗ ржирждрзБржи `() =>` syntax ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛ржХрзЗ ржмрж▓рж╛ рж╣ржпрж╝ **arrow function**ред ржПржЯрж┐ function рж▓рзЗржЦрж╛рж░ ржПржХржЯрж┐ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржУ рж╕рж╣ржЬ ржкржжрзНржзрждрж┐ред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк,
`() => handleClick(0)` ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ ржпржЦржи Square-ржП Click ржХрж░рж╛ рж╣ржмрзЗ, рждржЦржи `handleClick(0)` function ржЪрж╛рж▓рзБ рж╣ржмрзЗред

ржПржЦржи Board component-ржПрж░ ржкрзНрж░рждрж┐ржЯрж┐ Square-ржП ржПржЗ arrow function ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржарж┐ржХ index ржЕржирзБржпрж╛ржпрж╝рзА handleClick function ржХрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣рж▓рзЛ:

```jsx
export default function Board() {
  // ...
  return (
    <>
      <div className="flex">
        <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
        <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
        <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
      </div>
      <div className="flex">
        <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
        <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
        <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
      </div>
      <div className="flex">
        <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
        <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
        <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
      </div>
    </>
  );
}
```

ржПржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ржЯрж┐ Square ржирж┐ржЬрзЗрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ index ржЕржирзБржпрж╛ржпрж╝рзА handleClick function ржХрж▓ ржХрж░ржмрзЗред ржЕрж░рзНржерж╛рзО, ржпрзЗржЗ Square-ржП Click ржХрж░рж╛ рж╣ржмрзЗ, рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рзЗржЗ Square-ржПрж░ ржорж╛ржи `'X'` рждрзЗ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржмрзЗред

![board 4](./src/assets/images/board4.gif)

### 6.4: LetтАЩs recap what happens when a user clicks the top left square on your board to add an X to it

ржПржЦржи ржЖржкржирж╛рж░ state ржкрзБрж░рзЛржкрзБрж░рж┐ **Board component**-ржПрж░ ржоржзрзНржпрзЗ рж░ржпрж╝рзЗржЫрзЗред ржлрж▓рзЗ parent Board component рждрж╛рж░ **props** ржПрж░ ржорж╛ржзрзНржпржорзЗ child Square component-ржЧрзБрж▓рзЛржХрзЗ рждрж╛ржжрзЗрж░ ржкрзНрж░ржжрж░рзНрж╢ржирзЗрж░ (display) ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ data ржкрж╛ржарж╛ржпрж╝ред

ржпржЦржи ржХрзЛржирзЛ Square-ржП Click ржХрж░рж╛ рж╣ржпрж╝, рждржЦржи рж╕рзЗржЗ Square component parent Board component-ржХрзЗ ржЬрж╛ржирж╛ржпрж╝ ржпрзЗ рждрж╛ржХрзЗ рждрж╛рж░ **state ржЖржкржбрзЗржЯ** ржХрж░рждрзЗ рж╣ржмрзЗред ржПрж░ржкрж░ Board-ржПрж░ state ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ React рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ Board ржПржмржВ рждрж╛рж░ ржкрзНрж░рждрж┐ржЯрж┐ child Square component ржкрзБржирж░рж╛ржпрж╝ **re-render** ржХрж░рзЗред

рж╕ржм Square-ржПрж░ state Board component-ржПрж░ ржоржзрзНржпрзЗ рж░рж╛ржЦрж╛рж░ ржлрж▓рзЗ ржнржмрж┐рж╖рзНржпрждрзЗ ржХрзЗ **winner** рж╣ржпрж╝рзЗржЫрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ рж╕рж╣ржЬ рж╣ржмрзЗред

ржирж┐ржЪрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж╛ рж╣рж▓рзЛ, ржпржЦржи user ржмрзЛрж░рзНржбрзЗрж░ ржЙржкрж░рзЗрж░ ржмрж╛ржо ржжрж┐ржХрзЗрж░ Square-ржП Click ржХрж░рзЗ, рждржЦржи ржХрзА ржШржЯрзЗ тАФ

1. ржЙржкрж░рзЗрж░ ржмрж╛ржо Square-ржП Click ржХрж░рж▓рзЗ рж╕рзЗржЗ Button-ржПрж░ `onClick` prop-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржерж╛ржХрж╛ Function ржХрж▓ рж╣ржпрж╝ред ржПржЗ Function Square component Board ржерзЗржХрзЗ **onSquareClick** prop ржЖржХрж╛рж░рзЗ ржкрзЗржпрж╝рзЗржЫрж┐рж▓ред Board component рж╕рзЗржЗ function-ржЯрж┐ржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ JSX-ржПрж░ ржоржзрзНржпрзЗржЗ define ржХрж░рзЗржЫрзЗред ржПржЯрж┐ handleClick function-ржХрзЗ argument 0 рж╕рж╣ ржХрж▓ ржХрж░рзЗред
2. `handleClick` Function-ржПрж░ ржнрж┐рждрж░рзЗ ржкрзНрж░рж╛ржкрзНржд argument `(0)` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ `squares` array-ржПрж░ ржкрзНрж░ржержо element-ржЯрж┐ `null` ржерзЗржХрзЗ `'X'` рждрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржпрж╝ред
3. Board component-ржПрж░ `squares` state ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржУржпрж╝рж╛ржпрж╝ React Board ржПржмржВ рждрж╛рж░ рж╕ржорж╕рзНржд child component ржкрзБржирж░рж╛ржпрж╝ render ржХрж░рзЗред ржПрж░ ржлрж▓рзЗ index `0` ржмрж┐рж╢рж┐рж╖рзНржЯ Square component-ржПрж░ `value` prop `null` ржерзЗржХрзЗ `'X'` рждрзЗ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝ред

ржлрж▓рж╛ржлрж▓ рж╣рж┐рж╕рзЗржмрзЗ user ржжрзЗржЦрждрзЗ ржкрж╛ржи ржпрзЗ ржЙржкрж░рзЗрж░ ржмрж╛ржо Square ржЖржЧрзЗ ржЦрж╛рж▓рж┐ ржЫрж┐рж▓, ржЖрж░ ржПржЦржи рж╕рзЗржЦрж╛ржирзЗ тАЬXтАЭ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗред

## 7. Why immutability is important

`handleClick` function-ржПрж░ ржнрж┐рждрж░рзЗ ржЖржкржирж┐ `.slice()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ `squares` array-ржПрж░ ржПржХржЯрж┐ **copy** рждрзИрж░рж┐ ржХрж░рзЗржЫрзЗржи, рж╕рж░рж╛рж╕рж░рж┐ ржорзВрж▓ array ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рзЗред ржХрзЗржи ржПржЯрж┐ ржХрж░рж╛ ржЬрж░рзБрж░рж┐ рждрж╛ ржмрзЛржЭрж╛рж░ ржЬржирзНржп **immutability** рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирж╛ ржкрзНрж░ржпрж╝рзЛржЬржиред

ржбрж╛ржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржжрзБржЯрж┐ ржкржжрзНржзрждрж┐ рж░ржпрж╝рзЗржЫрзЗ тАФ

1. **Mutation (ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛):**
   ржПржЗ ржкржжрзНржзрждрж┐рждрзЗ ржЖржкржирж┐ рж╕рж░рж╛рж╕рж░рж┐ ржмрж┐ржжрзНржпржорж╛ржи ржбрж╛ржЯрж╛рж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗржиред

2. **Immutability (ржирждрзБржи ржХржкрж┐ рждрзИрж░рж┐ ржХрж░рж╛):**
   ржПржЗ ржкржжрзНржзрждрж┐рждрзЗ ржЖржкржирж┐ ржорзВрж▓ ржбрж╛ржЯрж╛ ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд рж░рзЗржЦрзЗ рждрж╛рж░ ржПржХржЯрж┐ **ржирждрзБржи ржХржкрж┐** рждрзИрж░рж┐ ржХрж░рзЗржи ржПржмржВ рж╕рзЗржЗ ржХржкрж┐рждрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗржиред

ржирж┐ржЪрзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ mutation ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ тАФ

```js
const squares = [null, null, null, null, null, null, null, null, null];
squares[0] = "X";
// ржПржЦржи `squares` рж╣рж▓рзЛ ["X", null, null, null, null, null, null, null, null];
```

ржПржЦрж╛ржирзЗ `squares` array рж╕рж░рж╛рж╕рж░рж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЕрж░рзНржерж╛рзО, ржПржХржЗ array-ржПрж░ ржкрзНрж░ржержо element `'X'` ржжрж┐ржпрж╝рзЗ overwrite ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

ржХрж┐ржирзНрждрзБ React-ржП рж╕рж░рж╛рж╕рж░рж┐ state ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржПржХржЯрж┐ **ржЦрж╛рж░рж╛ржк practice**, ржХрж╛рж░ржг React state ржкрж░рж┐ржмрж░рзНрждржи рж╢ржирж╛ржХрзНржд ржХрж░рзЗ **reference рждрзБрж▓ржирж╛ (reference comparison)** ржПрж░ ржорж╛ржзрзНржпржорзЗред ржпржжрж┐ ржЖржкржирж┐ ржПржХржЗ object ржмрж╛ array ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ React ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржирж╛ ржпрзЗ ржХрзЛржирзЛ update рж╣ржпрж╝рзЗржЫрзЗ тАФ ржлрж▓рзЗ component ржкрзБржирж░рж╛ржпрж╝ render ржирж╛ржУ рж╣рждрзЗ ржкрж╛рж░рзЗред ржПржЬржирзНржп `.slice()` ржжрж┐ржпрж╝рзЗ array-ржПрж░ ржПржХржЯрж┐ ржирждрзБржи copy рждрзИрж░рж┐ ржХрж░рзЗ рждрж╛рж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржпрж╝, ржпрж╛рждрзЗ React ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржирждрзБржи data ржПрж╕рзЗржЫрзЗ ржПржмржВ re-render ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ржирж┐ржЪрзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ ржХрж┐ржнрж╛ржмрзЗ ржЖржкржирж┐ **data ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржХрж┐ржирзНрждрзБ ржорзВрж▓ array-ржЯрж┐ mutate ржирж╛ ржХрж░рзЗржЗ** тАФ

```js
const squares = [null, null, null, null, null, null, null, null, null];
const nextSquares = ["X", null, null, null, null, null, null, null, null];
// ржПржЦржи `squares` ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд ржЖржЫрзЗ, ржХрж┐ржирзНрждрзБ `nextSquares` ржПрж░ ржкрзНрж░ржержо element 'X', ржпрзЗржЦрж╛ржирзЗ ржЖржЧрзЗ `null` ржЫрж┐рж▓ред
```

ржПржЦрж╛ржирзЗ ржорзВрж▓ `squares` array ржЖржЧрзЗрж░ ржорждрзЛржЗ ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд (unchanged) ржЖржЫрзЗред ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржЬржирзНржп ржирждрзБржи ржПржХржЯрж┐ array `nextSquares` рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛рж░ ржкрзНрж░ржержо element `'X'` рж░рж╛ржЦрж╛ рж╣ржпрж╝рзЗржЫрзЗред

ржПржЗ ржкржжрзНржзрждрж┐ржЗ **immutability** ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрзЗред ржЕрж░рзНржерж╛рзО, ржЖржкржирж┐ ржХржЦржирзЛржЗ ржорзВрж▓ ржбрж╛ржЯрж╛ржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржЫрзЗржи ржирж╛; ржмрж░ржВ рждрж╛рж░ ржПржХржЯрж┐ ржирждрзБржи рж╕ржВрж╕рзНржХрж░ржг (copy) рждрзИрж░рж┐ ржХрж░ржЫрзЗржиред React-ржПрж░ ржЬржирзНржп ржПржЯрж┐ ржЦрзБржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг, ржХрж╛рж░ржг React state ржкрж░рж┐ржмрж░рзНрждржи рж╢ржирж╛ржХрзНржд ржХрж░рждрзЗ object reference ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржЖржкржирж┐ ржпржЦржи ржирждрзБржи ржХржкрж┐ рждрзИрж░рж┐ ржХрж░рзЗржи, рждржЦржи React рж╕рж╣ржЬрзЗржЗ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржпрзЗ **ржирждрзБржи data ржПрж╕рзЗржЫрзЗ**, ржПржмржВ UI рж╕ржарж┐ржХржнрж╛ржмрзЗ re-render рж╣ржпрж╝ред

ржлрж▓рж╛ржлрж▓ ржпржжрж┐ржУ ржПржХржЗ ржерж╛ржХрзЗ, ржХрж┐ржирзНрждрзБ рж╕рж░рж╛рж╕рж░рж┐ **mutation (ржорзВрж▓ data ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рж╛)** ржкржжрзНржзрждрж┐ ржЕржирзБрж╕рж░ржг ржХрж░рж▓рзЗ ржЖржкржирж┐ ржмрзЗрж╢ ржХрж┐ржЫрзБ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рж╕рзБржмрж┐ржзрж╛ ржкрж╛ржиред

**рззя╕ПтГг Immutability ржЬржЯрж┐рж▓ feature рж╕рж╣ржЬ ржХрж░рзЗ рждрзЛрж▓рзЗ:**
Immutability ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрж▓рзЗ ржЬржЯрж┐рж▓ feature ржпрзЗржоржи тАЬ**time travel**тАЭ ржмрж╛ ржЧрзЗржорзЗрж░ ржкрзБрж░ржирзЛ ржЕржмрж╕рзНржерж╛ржпрж╝ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ рж╕рж╣ржЬрзЗ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржпрж╝ред
ржПржЗ tutorial-ржПрж░ ржкрж░ржмрж░рзНрждрзА ржЕржВрж╢рзЗ ржЖржкржирж┐ ржПржоржи ржПржХржЯрж┐ feature рждрзИрж░рж┐ ржХрж░ржмрзЗржи ржпрзЗржЦрж╛ржирзЗ ржЧрзЗржорзЗрж░ history ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ ржПржмржВ ржЖржЧрзЗрж░ ржХрзЛржирзЛ move-ржП ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ ржпрж╛ржмрзЗред
ржПржЗ ржХрзНрж╖ржорждрж╛ рж╢рзБржзрзБ ржЧрзЗржорзЗрж░ ржЬржирзНржп ржиржпрж╝тАФржпрзЗржХрзЛржирзЛ application-ржП **undo** ржмрж╛ **redo** ржХрж░рж╛рж░ ржорждрзЛ ржлрж┐ржЪрж╛рж░ рждрзИрж░рж┐рждрзЗ ржПржЯрж┐ ржЦрзБржмржЗ ржХрж╛рж░рзНржпржХрж░ред
ржХрж╛рж░ржг ржЖржкржирж┐ ржпржжрж┐ ржорзВрж▓ data mutate ржирж╛ ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ ржкрзВрж░рзНржмрзЗрж░ data рж╕ржВрж╕рзНржХрж░ржгржЧрзБрж▓рзЛ (versions) ржЕржХрзНрж╖ржд ржерж╛ржХрзЗ, ржпрж╛ ржкрж░ржмрж░рзНрждрзАрждрзЗ ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред

**рзия╕ПтГг Immutability performance ржЙржирзНржиржд ржХрж░рзЗ:**
React-ржП ржХрзЛржирзЛ parent component-ржПрж░ state ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рж▓рзЗ рждрж╛рж░ рж╕ржм child component рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ **re-render** рж╣ржпрж╝тАФeven ржпржжрж┐ ржХрж┐ржЫрзБ child-ржПрж░ data ржирж╛ ржмржжрж▓рж╛ржпрж╝ред
ржпржжрж┐ржУ ржПржЗ re-render рж╕рж╛ржзрж╛рж░ржгржд ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржХрж╛ржЫрзЗ ржжрзГрж╢рзНржпржорж╛ржи ржиржпрж╝, рждржмрзБржУ performance ржЙржирзНржиржд ржХрж░рждрзЗ ржЖржкржирж┐ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ re-render ржмржирзНржз ржХрж░рждрзЗ ржЪрж╛ржЗрждрзЗ ржкрж╛рж░рзЗржиред

Immutability ржПржЦрж╛ржирзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ, ржХрж╛рж░ржг ржПржЯрж┐ React-ржПрж░ ржЬржирзНржп **data ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝рзЗржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ ржЦрзБржм рж╕рж╕рзНрждрж╛ (efficient)** ржХрж░рзЗ рждрзЛрж▓рзЗред
React ржХрзЗржмрж▓ object reference рждрзБрж▓ржирж╛ ржХрж░рзЗ ржмрзБржЭрзЗ ржирж┐рждрзЗ ржкрж╛рж░рзЗ data ржирждрзБржи ржХрж┐ржирж╛тАФржпржжрж┐ reference ржирждрзБржи рж╣ржпрж╝, рждржмрзЗ UI ржЖржкржбрзЗржЯ рж╣ржмрзЗ; ржирж╛ рж╣рж▓рзЗ ржиржпрж╝ред

ЁЯСЙ рж╕ржВржХрзНрж╖рзЗржкрзЗ, immutability ржЖржкржирж╛ржХрзЗ ржжрзЗржпрж╝:

- ржкрзВрж░рзНржмрзЗрж░ data рж╕ржВрж╕рзНржХрж░ржг рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ рж╕рзБржмрж┐ржзрж╛
- Undo/Redo ржлрж┐ржЪрж╛рж░ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржирзЗрж░ рж╕рж╣ржЬ ржЙржкрж╛ржпрж╝
- Efficient rendering ржПржмржВ ржнрж╛рж▓рзЛ performance

## 8. Taking turns

ржПржЦржи Tic-Tac-Toe ржЧрзЗржорзЗрж░ ржПржХржЯрж┐ ржмрзЬ рж╕ржорж╕рзНржпрж╛ ржарж┐ржХ ржХрж░рж╛рж░ рж╕ржорзЯ ржПрж╕рзЗржЫрзЗ тАФ ржПржЦржи ржкрж░рзНржпржирзНржд ржЖржкржирж┐ ржХрзЗржмрж▓ тАЬXтАЭ ржмрж╕рж╛рждрзЗ ржкрж╛рж░ржЫрзЗржи, ржХрж┐ржирзНрждрзБ тАЬOтАЭ ржмрж╕рж╛ржирзЛ ржпрж╛ржЪрзНржЫрзЗ ржирж╛ред

ржПржЯрж┐ ржарж┐ржХ ржХрж░рждрзЗ рж╣рж▓рзЗ ржЧрзЗржорзЗ ржХрзЗ ржкрж░рзЗрж░ move ржжрзЗржмрзЗ (X ржирж╛ O) рждрж╛ **track ржХрж░рж╛** ржжрж░ржХрж╛рж░ред ржПржЬржирзНржп Board component-ржП ржПржХржЯрж┐ ржирждрзБржи **state variable** ржпрзЛржЧ ржХрж░рж╛ рж╣ржмрзЗ ржпрж╛рж░ ржирж╛ржо `xIsNext`ред ржПржЗ state ржжрж┐рзЯрзЗ ржмрзЛржЭрж╛ ржпрж╛ржмрзЗ ржкрж░рзЗрж░ turn ржХрж╛рж░ тАФ ржпржжрж┐ ржПржЯрж┐ `true` рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржкрж░рзЗрж░ move рж╣ржмрзЗ тАЬXтАЭ, ржЖрж░ ржпржжрж┐ `false` рж╣рзЯ, рждрж╛рж╣рж▓рзЗ тАЬOтАЭред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЗ state ржпрзБржХрзНржд ржХрж░рж╛ рж╣рж▓рзЛ:

```jsx
function Board() {
  const [xIsNext, setXIsNext] = useState(true);
  const [squares, setSquares] = useState(Array(9).fill(null));

  // ...
}
```

ржкрзНрж░рждрж┐ржмрж╛рж░ ржПржХржЬржи Player move ржХрж░рж▓рзЗ, `xIsNext` (ржпрж╛ ржПржХржЯрж┐ boolean) ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ тАФ ржПрж░ ржорж╛ржзрзНржпржорзЗ ржмрзЛржЭрж╛ ржпрж╛ржмрзЗ ржкрж░рзЗрж░ turn тАЬXтАЭ ржирж╛ржХрж┐ тАЬOтАЭ ржжрзЗржмрзЗред ржПржХржЗ рж╕ржЩрзНржЧрзЗ ржкрзНрж░рждрж┐ржЯрж┐ move-ржПрж░ ржкрж░рзЗ ржЧрзЗржорзЗрж░ state (`squares` array) рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХржмрзЗред ржПржЬржирзНржп Board component-ржПрж░ `handleClick()` function-ржХрзЗ ржирж┐ржЪрзЗрж░ ржорждрзЛ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:

```jsx
export default function Board() {
  const [xIsNext, setXIsNext] = useState(true);
  const [squares, setSquares] = useState(Array(9).fill(null));

  function handleClick(i) {
    const nextSquares = squares.slice();
    if (xIsNext) {
      nextSquares[i] = "X";
    } else {
      nextSquares[i] = "O";
    }
    setSquares(nextSquares);
    setXIsNext(!xIsNext);
  }

  return (
    //...
  );
}
```

ржПржЦрж╛ржирзЗ ржпрж╛ рж╣ржЪрзНржЫрзЗ тАФ

- ржкрзНрж░ржержорзЗ `squares.slice()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржорзВрж▓ `squares` array-ржПрж░ ржПржХржЯрж┐ ржХржкрж┐ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред
- ржПрж░ржкрж░ ржжрзЗржЦрж╛ рж╣ржЪрзНржЫрзЗ `xIsNext` ржПрж░ ржорж╛ржи true ржирж╛ falseред

  - ржпржжрж┐ `true` рж╣ржпрж╝ тЖТ ржУржЗ Square-ржП `"X"` ржмрж╕рж╛ржирзЛ рж╣ржмрзЗред
  - ржпржжрж┐ `false` рж╣ржпрж╝ тЖТ ржУржЗ Square-ржП `"O"` ржмрж╕рж╛ржирзЛ рж╣ржмрзЗред

- `setSquares(nextSquares)` ржжрзНржмрж╛рж░рж╛ ржирждрзБржи ржЕржмрж╕рзНржерж╛ржЯрж┐ state-ржП рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред
- рж╢рзЗрж╖рзЗ `setXIsNext(!xIsNext)` ржжрзНржмрж╛рж░рж╛ turn ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ, ржЕрж░рзНржерж╛рзО ржпржжрж┐ ржЖржЧрзЗрж░ turn тАЬXтАЭ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржПржЦржи ржкрж░рзЗрж░ turn тАЬOтАЭ рж╣ржмрзЗ, ржЖрж░ ржпржжрж┐ тАЬOтАЭ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржкрж░рзЗрж░ turn тАЬXтАЭ рж╣ржмрзЗред

ржПржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ржмрж╛рж░ Click ржХрж░рж▓рзЗ тАЬXтАЭ ржПржмржВ тАЬOтАЭ **alternately** ржмрзЛрж░рзНржбрзЗ ржмрж╕ржмрзЗред

ржПржЦржи ржЖржкржирж┐ ржпржЦржи ржмрзЛрж░рзНржбрзЗрж░ ржмрж┐ржнрж┐ржирзНржи Square-ржП Click ржХрж░ржмрзЗржи, рждржЦржи рж╕рзЗржЧрзБрж▓рзЛрждрзЗ тАЬXтАЭ ржПржмржВ тАЬOтАЭ ржкрж░рзНржпрж╛ржпрж╝ржХрзНрж░ржорзЗ (alternately) ржмрж╕ржмрзЗ, ржпрзЗржоржиржЯрж┐ рж╣ржУржпрж╝рж╛ ржЙржЪрж┐рждред

ржХрж┐ржирзНрждрзБ ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ рж╕ржорж╕рзНржпрж╛ ржЖржЫрзЗ тАФ ржпржжрж┐ ржЖржкржирж┐ ржПржХржЗ Square-ржП ржПржХрж╛ржзрж┐ржХржмрж╛рж░ Click ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЗ Square-ржПрж░ ржорж╛ржи ржмрж╛рж░ржмрж╛рж░ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рждрзЗ ржерж╛ржХржмрзЗред ржЕрж░рзНржерж╛рзО, ржПржХржмрж╛рж░ тАЬXтАЭ ржмрж╕рж╛ржирзЛрж░ ржкрж░рзЗржУ ржЖржмрж╛рж░ Click ржХрж░рж▓рзЗ рж╕рзЗржЯрж┐ тАЬOтАЭ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗ, ржпрж╛ Tic-Tac-Toe ржЧрзЗржорзЗрж░ ржирж┐ржпрж╝ржо ржЕржирзБржпрж╛ржпрж╝рзА рж╕ржарж┐ржХ ржиржпрж╝ред

ржЧрзЗржорзЗ ржПржХржмрж╛рж░ ржХрзЛржирзЛ Square ржкрзВрж░рзНржг рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ (ржпрзЗржоржи тАЬXтАЭ ржмрж╛ тАЬOтАЭ ржмрж╕рж╛ржирзЛ рж╣рж▓рзЗ), рж╕рзЗржЯрж┐ ржкрзБржирж░рж╛ржпрж╝ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ Game ржПрж░ Rules ржПрж░ ржмрж╛ржЗрж░рзЗред рждрж╛ржЗ ржПржЦржи handleClick() function-ржП ржПржоржи ржПржХржЯрж┐ рж╢рж░рзНржд ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржПржХржЯрж┐ Square ржПржХржмрж╛рж░ ржкрзВрж░рзНржг рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ рждрж╛рждрзЗ ржЖрж░ ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ рж╣ржпрж╝ред

![board 5](./src/assets/images/board5.gif)

рж╕ржорж╕рзНржпрж╛рж░ ржХрж╛рж░ржг рж╣рж▓рзЛ: Square-ржП тАЬXтАЭ ржмрж╛ тАЬOтАЭ ржмрж╕рж╛ржирзЛрж░ ржЖржЧрзЗ ржЖржкржирж┐ ржпрж╛ржЪрж╛ржЗ ржХрж░ржЫрзЗржи ржирж╛ ржпрзЗ рж╕рзЗржЯрж┐ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржкрзВрж░рзНржг ржХрж┐ржирж╛ред ржПржЯрж┐ ржарж┐ржХ ржХрж░рждрзЗ `handleClick()` function-ржП ржПржХржЯрж┐ **early return condition** ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ:

```jsx
function handleClick(i) {
  if (squares[i]) {
    return;
  }
  const nextSquares = squares.slice();
  // ...
}
```

ржПржЦрж╛ржирзЗ `if (squares[i]) return;` ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ ржпржжрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ Square-ржПрж░ index-ржП ржЗрждрж┐ржоржзрзНржпрзЗ ржХрзЛржирзЛ ржорж╛ржи ржерж╛ржХрзЗ (ржЕрж░рзНржерж╛рзО тАЬXтАЭ ржмрж╛ тАЬOтАЭ), рждрж╛рж╣рж▓рзЗ function ржПржЦрж╛ржирзЗржЗ ржерзЗржорзЗ ржпрж╛ржмрзЗ ржПржмржВ state ржЖрж░ ржЖржкржбрзЗржЯ рж╣ржмрзЗ ржирж╛ред

ржлрж▓рж╛ржлрж▓: ржПржЦржи ржерзЗржХрзЗ ржЖржкржирж┐ ржХрзЗржмрж▓ **ржЦрж╛рж▓рж┐ Square-ржПржЗ тАЬXтАЭ ржмрж╛ тАЬOтАЭ ржмрж╕рж╛рждрзЗ ржкрж╛рж░ржмрзЗржи**, Filled Square-ржП ржЖрж░ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред

## 9: Declaring A Winner

ржПржЦржи ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝рж░рж╛ ржкрж╛рж▓рж╛ ржХрж░рзЗ ржЪрж╛рж▓ ржжрж┐рждрзЗ ржкрж╛рж░рзЗ, рждрж╛ржЗ ржЧрзЗржо ржХрзЗ ржЬрж┐рждрж▓рзЛ рж╕рзЗржЯрж╛ ржирж┐рж░рзНржгрзЯ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ **helper function** ржЖржорж░рж╛ рждрзИрж░рж┐ ржХрж░ржмрзЛ: `calculateWinner(squares)`ред ржПржЯрж┐ 9-ржЯрж┐ ржШрж░рзЗрж░ array ржЗржиржкрзБржЯ рж╣рж┐рж╕рзЗржмрзЗ ржирзЗржпрж╝, рж╕ржорзНржнрж╛ржмрзНржп рж╕ржм winning line ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзЗ, ржПржмржВ **'X'**, **'O'**, ржмрж╛ **null** рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

ржХрзЛржбрзЗ `lines` ржирж╛ржорзЗ рзо ржЯрж┐ **winning combination** рж░рж╛ржЦрж╛ рж╣ржпрж╝рзЗржЫрзЗ:

- 3ржЯрж┐ row: `[0,1,2]`, `[3,4,5]`, `[6,7,8]`
- 3ржЯрж┐ column: `[0,3,6]`, `[1,4,7]`, `[2,5,8]`
- 2ржЯрж┐ diagonal: `[0,4,8]`, `[2,4,6]`

рж▓рзБржкрзЗ ржкрзНрж░рждрж┐ржЯрж┐ line ржерзЗржХрзЗ `a, b, c` index ржирзЗржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗред рж╢рж░рзНржд: ржпржжрж┐ `squares[a]` ржЦрж╛рж▓рж┐ ржирж╛ рж╣ржпрж╝ ржПржмржВ `squares[a] === squares[b] === squares[c]` рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЗ ржорж╛ржиржЯрж╛ржЗ (ржпрзЗржоржи `'X'` ржмрж╛ `'O'`) **winner** рж╣рж┐рж╕рзЗржмрзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рж╛ рж╣ржмрзЗред рж╕ржм ржЪрзЗржХ рж╢рзЗрж╖рзЗржУ ржХрж┐ржЫрзБ ржирж╛ ржорж┐рж▓рж▓рзЗ `null` рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗред

```jsx
export default function Board() {
  //...
}

function calculateWinner(squares) {
  const lines = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6],
  ];
  for (let i = 0; i < lines.length; i++) {
    const [a, b, c] = lines[i];
    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
      return squares[a];
    }
  }
  return null;
}
```

ржПржЦржи ржЧрзЗржо рж╢рзЗрж╖ рж╣рж▓рзЗ ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝ржжрзЗрж░ ржЬрж╛ржирж╛рждрзЗ рж╣ржмрзЗ ржХрзЗ **Winner** рж╣ржпрж╝рзЗржЫрзЗред ржПржЬржирзНржп Board component-ржП ржПржХржЯрж┐ **status section** ржпрзЛржЧ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛ Winner ржерж╛ржХрж▓рзЗ тАЬWinner: XтАЭ ржмрж╛ тАЬWinner: OтАЭ ржжрзЗржЦрж╛ржмрзЗ, ржЖрж░ ржЧрзЗржо ржЪрж▓ржорж╛ржи ржерж╛ржХрж▓рзЗ ржжрзЗржЦрж╛ржмрзЗ тАЬNext player: XтАЭ ржмрж╛ тАЬNext player: OтАЭред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
export default function Board() {
  // ...
  const winner = calculateWinner(squares);
  let status;

  if (winner) {
    status = "Winner: " + winner;
  } else {
    status = "Next player: " + (xIsNext ? "X" : "O");
  }

  return (
    <>
      <div className="status">{status}</div>
      <div className="board-row">{/* ... */}</div>
    </>
  );
}
```

ржПржЦрж╛ржирзЗ ржпрж╛ рж╣ржЪрзНржЫрзЗ тАФ

- `calculateWinner(squares)` function-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржмрзЛрж░рзНржбрзЗ ржХрзЗржЙ ржЬрж┐рждрзЗржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред
- ржпржжрж┐ ржХрзЛржирзЛ **winner** ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝, рждрж╛рж╣рж▓рзЗ `status` ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝рзЗ ржжрзЗржЦрж╛ржмрзЗ `"Winner: X"` ржмрж╛ `"Winner: O"`ред
- ржпржжрж┐ ржПржЦржирзЛ ржЧрзЗржо ржЪрж▓рждрзЗ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ ржжрзЗржЦрж╛ржмрзЗ `"Next player: X"` ржмрж╛ `"Next player: O"`ред

ржПржнрж╛ржмрзЗ ржЧрзЗржо ржЪрж▓рж╛рж░ ржкрзНрж░рждрж┐ржЯрж┐ ржзрж╛ржкрзЗ player ржмрзБржЭрждрзЗ ржкрж╛рж░ржмрзЗржи ржХрж╛рж░ turn ржЪрж▓ржЫрзЗ ржПржмржВ ржХржЦржи ржЧрзЗржо рж╢рзЗрж╖ рж╣ржпрж╝рзЗржЫрзЗред

ЁЯОЙ **Congratulations!** ржПржЦржи ржЖржкржирж╛рж░ ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржХрж╛рж░рзНржпржХрж░ Tic-Tac-Toe ржЧрзЗржо рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ, ржПржмржВ ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ React-ржПрж░ ржорзВрж▓ ржнрж┐рждрзНрждрж┐ржЧрзБрж▓рзЛржУ рж╢рж┐ржЦрзЗ ржлрзЗрж▓рзЗржЫрзЗржиред

### 9.1: How to Fix the Continuation After Finding the Winner

ржЫрзЛржЯрзНржЯ ржПржХржЯрж╛ ржкрзНрж░ржмрж▓рзЗржо рж╣рж▓рзЛ, ржмрж┐ржЬрзЯрзА ржЦрзБржЬрзЗ ржкрж╛ржмрж╛рж░ ржкрж░рзЗржУ ржЖржорж╛ржжрзЗрж░ Game ржЦрзЗрж▓рж╛ ржЪрж▓рждрзЗржЗ ржерж╛ржХржмрзЗ, ржпрзЗржЯрж╛ ржарж┐ржХ ржирзЯред ржЕрж░рзНржерж╛рзО ржмрж┐ржЬрзЯрзА ржЦрзБржЬрзЗ ржкрзЗрж▓рзЗ ржпржжрж┐ ржХрзЛржи Square ржП Click ржХрж░рж╛ рж╣рзЯ рждрж╛рж╣рж▓рзЗ 'X' ржмрж╛ 'O' ржХрзЛржи ржХрж┐ржЫрзБржЗ ржЖрж╕ржмрзЗ ржирж╛ред ржПржЗ ржЬрж┐ржирж┐рж╕ржЯрж╛ Achieve ржХрж░рж╛рж░ ржЬржирзНржп ржЖржорж░рж╛ ржирж┐ржЪрзЗрж░ Condition ржЯрж┐ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рж┐ржГ

```js
function handleClick(i) {
  if (squares[i] || calculateWinner(squares)) {
    return;
  }
  const nextSquares = squares.slice();
  //...
}
```

## 10: Storing a history of moves

ржпржжрж┐ ржЖржкржирж┐ ржкрзНрж░рждрж┐ржмрж╛рж░ рж╕рж░рж╛рж╕рж░рж┐ `squares` array-ржЯрж┐ **mutate** (ржЕрж░рзНржерж╛рзО ржорзВрж▓ array ржкрж░рж┐ржмрж░рзНрждржи) ржХрж░рждрзЗржи, рждрж╛рж╣рж▓рзЗ **time travel feature** рждрзИрж░рж┐ ржХрж░рж╛ ржЦрзБржм ржХржарж┐ржи рж╣ржпрж╝рзЗ ржпрзЗрждред

ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржкрзНрж░рждрж┐ржмрж╛рж░ `slice()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ `squares` array-ржПрж░ ржПржХржЯрж┐ ржирждрзБржи ржХржкрж┐ рждрзИрж░рж┐ ржХрж░рзЗржЫрзЗржи ржПржмржВ ржПржЯрж┐ржХрзЗ **immutable** рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрзЗржиред ржПрж░ ржлрж▓рзЗ ржЖржкржирж┐ ржкрзНрж░рждрж┐ржЯрж┐ move-ржПрж░ ржкрж░рзЗрж░ ржЕржмрж╕рзНржерж╛ржЯрж┐ (board state) ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

ржПржЦржи ржкрзНрж░рждрж┐ржЯрж┐ move-ржПрж░ рж╕ржорзЯ рждрзИрж░рж┐ рж╣ржУржпрж╝рж╛ ржмрзЛрж░рзНржбрзЗрж░ ржЕржмрж╕рзНржерж╛ржЧрзБрж▓рзЛ (past board states) ржПржХржЯрж┐ ржирждрзБржи array-ржПрж░ ржоржзрзНржпрзЗ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ, ржпрж╛рж░ ржирж╛ржо рж╣ржмрзЗ **history**ред ржПржЯрж┐ ржПржХржЯрж┐ ржирждрзБржи **state variable** рж╣рж┐рж╕рзЗржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржмрзЗред

`history` array-ржПрж░ ржХрж╛ржЬ рж╣рж▓рзЛ тАФ ржЧрзЗржорзЗрж░ рж╢рзБрж░рзБ ржерзЗржХрзЗ рж╢рзЗрж╖ ржкрж░рзНржпржирзНржд рж╕ржм move-ржПрж░ ржЕржмрж╕рзНржерж╛ржЧрзБрж▓рзЛ ржзрж░рзЗ рж░рж╛ржЦрж╛ред ржЕрж░рзНржерж╛рзО, ржкрзНрж░ржержо move-ржПрж░ ржЖржЧрзЗрж░ board, ржкрзНрж░ржержо move-ржПрж░ ржкрж░рзЗрж░ board, ржжрзНржмрж┐рждрзАржпрж╝ move-ржПрж░ ржкрж░рзЗрж░ board тАФ рж╕ржмржХрж┐ржЫрзБржЗ ржПрждрзЗ ржерж╛ржХржмрзЗред

ржПржЯрж┐рж░ ржЧржаржи (structure) ржирж┐ржЪрзЗрж░ ржорждрзЛ рж╣ржмрзЗ ЁЯСЗ

```js
[
  // ржкрзНрж░ржержо move-ржПрж░ ржЖржЧрзЗ
  [null, null, null, null, null, null, null, null, null],
  // ржкрзНрж░ржержо move-ржПрж░ ржкрж░рзЗ
  [null, null, null, null, "X", null, null, null, null],
  // ржжрзНржмрж┐рждрзАржпрж╝ move-ржПрж░ ржкрж░рзЗ
  [null, null, null, null, "X", null, null, null, "O"],
  // ...
];
```

ржПржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ржЯрж┐ board state рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ рж░рж╛ржЦрж▓рзЗ ржкрж░рзЗ ржЖржкржирж┐ **history-ржПрж░ ржоржзрзНржп ржжрж┐ржпрж╝рзЗ тАЬржкрзЗржЫржирзЗтАЭ ржмрж╛ тАЬржЖржЧрзЗтАЭ ржпрзЗрждрзЗ ржкрж╛рж░ржмрзЗржи**, ржЕрж░рзНржерж╛рзО ржкрзВрж░рзНржмрзЗрж░ ржЕржмрж╕рзНржерж╛ржпрж╝ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ ржмрж╛ time travel ржХрж░рж╛ рж╕ржорзНржнржм рж╣ржмрзЗред тП│тЩ╗я╕П

## 11: Lifting state up, again

ржПржЦржи ржПржХржЯрж┐ ржирждрзБржи **top-level component** рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рж░ ржирж╛ржо рж╣ржмрзЗ **Game**ред ржПржЗ component ржЧрзЗржорзЗрж░ ржкрзБрж░рзЛ **move history** ржжрзЗржЦрж╛ржирзЛрж░ ржХрж╛ржЬ ржХрж░ржмрзЗред ржПржЦрж╛ржирзЗ ржПржоржи ржПржХржЯрж┐ state ржерж╛ржХржмрзЗ ржпрж╛рж░ ржоржзрзНржпрзЗ ржкрзБрж░рзЛ ржЧрзЗржорзЗрж░ ржЗрждрж┐рж╣рж╛рж╕ (`history`) рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХржмрзЗред

ржпрзЗрж╣рзЗрждрзБ `history` ржЧрзЗржорзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржбрзЗржЯрж╛ ржзрж╛рж░ржг ржХрж░ржмрзЗ, рждрж╛ржЗ ржПржЯрж┐ **Game component**-ржП рж░рж╛ржЦрж╛ рж╣ржмрзЗ тАФ ржЖрж░ Board component ржерзЗржХрзЗ `squares` state рж╕рж░рж┐ржпрж╝рзЗ ржлрзЗрж▓рж╛ рж╣ржмрзЗред
ржпрзЗржоржи ржЖржкржирж┐ ржЖржЧрзЗржУ `Square` ржерзЗржХрзЗ `Board`-ржП state **lift up** ржХрж░рзЗржЫрж┐рж▓рзЗржи, ржПржмрж╛рж░ рж╕рзЗржЯрж┐ржХрзЗ ржЖрж░ржУ ржЙржкрж░рзЗ, ржЕрж░рзНржерж╛рзО `Board` ржерзЗржХрзЗ `Game` component-ржП **lift up** ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред

ржПржнрж╛ржмрзЗ **Game component** ржкрзБрж░рзЛ ржмрзЛрж░рзНржбрзЗрж░ ржбрзЗржЯрж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░ржмрзЗ ржПржмржВ Board-ржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗ ржХрзЛржи move ржмрж╛ turn ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рждрзЗ рж╣ржмрзЗ (ржпрзЗржоржи ржкрзВрж░рзНржмрзЗрж░ ржХрзЛржирзЛ ржЕржмрж╕рзНржерж╛ржпрж╝ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛)ред

ржирж┐ржЪрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ ржХрзЛржбржЯрж┐ ржжрзЗржЦрзБржи ЁЯСЗ

```jsx
function Board() {
  // ...
}

export default function Game() {
  return (
    <div>
      <div>
        <Board />
      </div>
      <div>
        <ol>{/* TODO: move list will go here */}</ol>
      </div>
    </div>
  );
}
```

ржПржЦрж╛ржирзЗ тАФ

- `<Game />` ржПржЦржи ржЧрзЗржорзЗрж░ **parent component**, ржпрзЗржЦрж╛ржирзЗ рж╕ржорзНржкрзВрж░рзНржг ржЗрждрж┐рж╣рж╛рж╕ ржерж╛ржХржмрзЗред
- `<Board />` рж╢рзБржзрзБ ржмрзЛрж░рзНржб рж░рзЗржирзНржбрж╛рж░ ржХрж░ржмрзЗ, ржХрж┐ржирзНрждрзБ ржЧрзЗржорзЗрж░ ржбрзЗржЯрж╛ `Game` component ржерзЗржХрзЗржЗ ржкрж╛ржмрзЗред
- `<div>` ржЕржВрж╢рзЗ `<ol>` ржЯрзНржпрж╛ржЧрзЗрж░ ржнрж┐рждрж░рзЗ ржнржмрж┐рж╖рзНржпрждрзЗ move history (ржЧрзЗржорзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржзрж╛ржкрзЗрж░ рждрж╛рж▓рж┐ржХрж╛) ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗред

ржПржЦржи `Game` component ржЧрзЗржорзЗрж░ тАЬbrainтАЭ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ, ржПржмржВ ржкрзБрж░рзЛ state management ржПржЦрж╛ржирзЗржЗ рж╣ржмрзЗред ЁЯза

ржПржЦржи **Game component**-ржП state ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ ржжрзБржЗржЯрж┐ ржмрж┐рж╖ржпрж╝ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗ тАФ

1. ржХрж╛рж░ turn ржкрж░ржмрж░рзНрждрзА (ржЕрж░рзНржерж╛рзО тАЬXтАЭ ржирж╛ тАЬOтАЭ)
2. ржЧрзЗржорзЗрж░ **move history**, ржЕрж░рзНржерж╛рзО ржкрзНрж░рждрж┐ржЯрж┐ move-ржПрж░ ржкрж░ ржмрзЛрж░рзНржбрзЗрж░ ржЕржмрж╕рзНржерж╛

ржПрж░ ржЬржирзНржп ржирж┐ржЪрзЗрж░ ржорждрзЛ ржХрж░рзЗ ржжрзБржЗржЯрж┐ state variable рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
export default function Game() {
  const [xIsNext, setXIsNext] = useState(true);
  const [history, setHistory] = useState([Array(9).fill(null)]);
  // ...
}
```

ржПржЦрж╛ржирзЗ тАФ

- `xIsNext` ржжрзНржмрж╛рж░рж╛ ржмрзЛржЭрж╛ржирзЛ рж╣ржЪрзНржЫрзЗ ржмрж░рзНрждржорж╛ржирзЗ ржХрж╛рж░ turn ржЪрж▓ржЫрзЗред

  - `true` ржорж╛ржирзЗ тАЬXтАЭ ржЦрзЗрж▓ржмрзЗ
  - `false` ржорж╛ржирзЗ тАЬOтАЭ ржЦрзЗрж▓ржмрзЗ

- `history` рж╣рж▓рзЛ ржПржХржЯрж┐ 2D array, ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ element рж╣рж▓рзЛ ржмрзЛрж░рзНржбрзЗрж░ ржЕржмрж╕рзНржерж╛ (ржПржХржЯрж┐ рзп-ржШрж░рзЗрж░ array)ред

  - рж╢рзБрж░рзБрждрзЗ ржПржЯрж┐ ржПржХржЯрж┐ move (ржкрзНрж░ржержо, ржЦрж╛рж▓рж┐ ржмрзЛрж░рзНржб) ржирж┐ржпрж╝рзЗ рж╢рзБрж░рзБ рж╣ржпрж╝рзЗржЫрзЗ: `[Array(9).fill(null)]`

`[Array(9).fill(null)]` ржЖрж╕рж▓рзЗ ржПржХржЯрж┐ **array ржпрж╛рж░ ржнрж┐рждрж░рзЗ ржЖрж░рзЗржХржЯрж┐ array** рж░ржпрж╝рзЗржЫрзЗ тАФ рж╕рзЗржЗ ржнрзЗрждрж░рзЗрж░ array-ржП 9ржЯрж┐ `null` ржорж╛ржи ржЖржЫрзЗред ржЕрж░рзНржерж╛рзО, `history`-рж░ ржкрзНрж░рж╛ржержорж┐ржХ ржЕржмрж╕рзНржерж╛ ржПржоржи ржжрзЗржЦрж╛ржмрзЗ ЁЯСЗ

```
[
  [null, null, null, null, null, null, null, null, null]
]
```

ржПржЦржи ржЧрзЗржорзЗрж░ **ржмрж░рзНрждржорж╛ржи ржЕржмрж╕рзНржерж╛рж░ ржмрзЛрж░рзНржб (current move)** рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ рж╣рж▓рзЗ, `history` ржерзЗржХрзЗ рж╢рзЗрж╖ array-ржЯрж┐ (рж╕рж░рзНржмрж╢рзЗрж╖ move-ржПрж░ `squares` data) ржкржбрж╝рждрзЗ рж╣ржмрзЗред
ржПрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ `useState` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗ тАФ ржЖржкржирж┐ render ржХрж░рж╛рж░ рж╕ржоржпрж╝рзЗржЗ ржПржЯрж┐ `history` ржерзЗржХрзЗ ржмрзЗрж░ ржХрж░рзЗ ржирж┐рждрзЗ ржкрж╛рж░рзЗржиред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
export default function Game() {
  const [xIsNext, setXIsNext] = useState(true);
  const [history, setHistory] = useState([Array(9).fill(null)]);
  const currentSquares = history[history.length - 1];
  // ...
}
```

ржПржЦрж╛ржирзЗ тАФ

- `history` рж╣ржЪрзНржЫрзЗ рж╕ржорж╕рзНржд move-ржПрж░ data ржзрж╛рж░ржгржХрж╛рж░рзА arrayред
- `history[history.length - 1]` ржорж╛ржирзЗ рж╣ржЪрзНржЫрзЗ history-ржПрж░ **рж╢рзЗрж╖ element**, ржЕрж░рзНржерж╛рзО рж╕рж░рзНржмрж╢рзЗрж╖ move-ржПрж░ board stateред
- `currentSquares` рж╕рзЗржЗ рж╢рзЗрж╖ board state ржзрж░рзЗ рж░рж╛ржЦржмрзЗ, ржпрж╛ ржЖржкржирж┐ Board component-ржП ржкрж╛ржарж┐ржпрж╝рзЗ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░ржмрзЗржиред

ржлрж▓рж╛ржлрж▓: ржПржЦржи Board component рж╕рж░рзНржмржжрж╛ **рж╕рж░рзНржмрж╢рзЗрж╖ move ржЕржирзБржпрж╛ржпрж╝рзА** ржмрзЛрж░рзНржб рж░рзЗржирзНржбрж╛рж░ ржХрж░ржмрзЗред

ржПржЦржи **Game component**-ржПрж░ ржнрж┐рждрж░рзЗ ржПржХржЯрж┐ ржирждрзБржи function рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рж░ ржирж╛ржо рж╣ржмрзЗ `handlePlay()`ред ржПржЗ function Board component ржерзЗржХрзЗ ржХрж▓ ржХрж░рж╛ рж╣ржмрзЗ ржпржЦржи ржХрзЛржирзЛ player ржЪрж╛рж▓ ржжрзЗржмрзЗ (ржЕрж░рзНржерж╛рзО тАЬXтАЭ ржмрж╛ тАЬOтАЭ ржмрж╕рж╛ржмрзЗ)ред

ржПрж░ ржХрж╛ржЬ рж╣ржмрзЗ тАФ

- ржирждрзБржи move ржЕржирзБржпрж╛ржпрж╝рзА ржЧрзЗржорзЗрж░ history ржЖржкржбрзЗржЯ ржХрж░рж╛
- ржПржмржВ turn ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ (тАЬXтАЭ тЖТ тАЬOтАЭ, тАЬOтАЭ тЖТ тАЬXтАЭ)

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
export default function Game() {
  const [xIsNext, setXIsNext] = useState(true);
  const [history, setHistory] = useState([Array(9).fill(null)]);
  const currentSquares = history[history.length - 1];

  function handlePlay(nextSquares) {
    // TODO
  }

  return (
    <div>
      <div>
        <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
      </div>
      <div>
        <ol>{/* TODO */}</ol>
      </div>
    </div>
  );
}
```

ржПржЦрж╛ржирзЗ тАФ

- `xIsNext` тЖТ ржмрзЛржЭрж╛ржЪрзНржЫрзЗ ржкрж░ржмрж░рзНрждрзА move ржХрж╛рж░ рж╣ржмрзЗ
- `currentSquares` тЖТ ржмрзЛрж░рзНржбрзЗрж░ ржмрж░рзНрждржорж╛ржи ржЕржмрж╕рзНржерж╛
- `handlePlay(nextSquares)` тЖТ Board component ржерзЗржХрзЗ ржирждрзБржи state (`nextSquares`) ржкрж╛ржУржпрж╝рж╛рж░ ржкрж░ ржЧрзЗржо ржЖржкржбрзЗржЯ ржХрж░рж╛рж░ ржХрж╛ржЬ ржХрж░ржмрзЗ

ЁЯСЙ ржПрж░ржкрж░ Board component-ржП `onPlay` prop ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЗ `handlePlay()` function-ржЯрж┐ ржХрж▓ ржХрж░рж╛ рж╣ржмрзЗ, ржпрж╛рждрзЗ Game component ржЧрзЗржорзЗрж░ history ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ state ржкрзБрж░рзЛржкрзБрж░рж┐ ржирж┐ржпрж╝ржирзНрждрзНрж░ржгрзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗред

ржПржЦржи Board component-ржХрзЗ рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ **props ржжрзНржмрж╛рж░рж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░рж┐ржд (controlled)** ржХрж░рждрзЗ рж╣ржмрзЗред ржЕрж░рзНржерж╛рзО, Board ржЖрж░ ржирж┐ржЬрзЗрж░ ржнрж┐рждрж░рзЗ ржХрзЛржирзЛ state рж░рж╛ржЦржмрзЗ ржирж╛; ржмрж░ржВ рждрж╛рж░ parent (Game component) ржерзЗржХрзЗ ржкрж╛ржУржпрж╝рж╛ props-ржПрж░ ржорж╛ржзрзНржпржорзЗ data ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░ржмрзЗ ржПржмржВ ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рзЛ ржЬрж╛ржирж╛ржмрзЗред

ржПржЬржирзНржп Board component ржПржЦржи рждрж┐ржиржЯрж┐ props ржирзЗржмрзЗ тАФ

1. `xIsNext` тЖТ ржХрж╛рж░ turn ржЪрж▓ржЫрзЗ
2. `squares` тЖТ ржмрзЛрж░рзНржбрзЗрж░ ржмрж░рзНрждржорж╛ржи ржЕржмрж╕рзНржерж╛
3. `onPlay` тЖТ ржПржоржи ржПржХржЯрж┐ function, ржпрж╛ player move ржХрж░рж╛рж░ ржкрж░ Game component-ржХрзЗ ржЬрж╛ржирж╛ржмрзЗ

ржПржЦржи Board component-ржП `useState` ржЖрж░ ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗ, рждрж╛ржЗ function-ржПрж░ ржкрзНрж░ржержо ржжрзБржЗ рж▓рж╛ржЗржи (`useState` рж╕ржорзНржкрж░рзНржХрж┐ржд) ржорзБржЫрзЗ ржлрзЗрж▓рждрзЗ рж╣ржмрзЗред

ржирж┐ржЪрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ ржХрзЛржб ржжрзЗржЦрзБржи ЁЯСЗ

```jsx
function Board({ xIsNext, squares, onPlay }) {
  function handleClick(i) {
    // ...
  }
  // ...
}
```

ржПржЦржи Board component ржЖрж░ ржирж┐ржЬрзЗрж░ state ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░ржЫрзЗ ржирж╛; ржмрж░ржВ ржПржЯрж┐ Game component ржерзЗржХрзЗ ржкрж╛ржУржпрж╝рж╛ data (`squares`, `xIsNext`) ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗ ржПржмржВ move ржШржЯрж▓рзЗ `onPlay(nextSquares)` function-ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕рзЗржЗ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рждржерзНржп parent component-ржХрзЗ ржЬрж╛ржирж╛ржЪрзНржЫрзЗред

ржПржЗржнрж╛ржмрзЗ **state lifting** рж╕ржорзНржкрзВрж░рзНржг рж╣рж▓рзЛ тАФ ржПржЦржи ржЧрзЗржорзЗрж░ state ржкрзБрж░рзЛржкрзБрж░рж┐ **Game component**-ржПрж░ ржирж┐ржпрж╝ржирзНрждрзНрж░ржгрзЗред

ржПржЦржи Board component-ржП `handleClick()` function-ржПрж░ ржоржзрзНржпрзЗ `setSquares()` ржПржмржВ `setXIsNext()` ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ `onPlay()` function ржХрж▓ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рждрзЗ **Game component** ржмрзЛрж░рзНржб ржЖржкржбрзЗржЯ ржХрж░рж╛рж░ ржжрж╛ржпрж╝рж┐рждрзНржм ржирж┐рждрзЗ ржкрж╛рж░рзЗред

ржирж┐ржЪрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ ржХрзЛржбржЯрж┐ ржжрзЗржЦрзБржи ЁЯСЗ

```jsx
function Board({ xIsNext, squares, onPlay }) {
  function handleClick(i) {
    if (calculateWinner(squares) || squares[i]) {
      return;
    }

    const nextSquares = squares.slice();

    if (xIsNext) {
      nextSquares[i] = "X";
    } else {
      nextSquares[i] = "O";
    }

    onPlay(nextSquares);
  }

  // ...
}
```

ржПржЦрж╛ржирзЗ ржпрж╛ рж╣ржЪрзНржЫрзЗ тАФ

- `calculateWinner(squares)` тЖТ ржЪрзЗржХ ржХрж░ржЫрзЗ ржХрзЗржЙ ржЬрж┐рждрзЗржЫрзЗ ржХрж┐ржирж╛ред
- `if (squares[i]) return;` тЖТ ржЪрзЗржХ ржХрж░ржЫрзЗ Square-ржЯрж┐ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржкрзВрж░рзНржг ржХрж┐ржирж╛ред
- `nextSquares` тЖТ ржмрж░рзНрждржорж╛ржи ржмрзЛрж░рзНржбрзЗрж░ ржПржХржЯрж┐ copy, ржпрж╛рждрзЗ mutation ржПржбрж╝рж╛ржирзЛ ржпрж╛ржпрж╝ред
- ржПрж░ржкрж░ `nextSquares[i]`-рждрзЗ тАЬXтАЭ ржмрж╛ тАЬOтАЭ ржмрж╕рж╛ржирзЛ рж╣ржЪрзНржЫрзЗ, ржпрзЗржЯрж┐рж░ turn ржЪрж▓ржЫрзЗред
- рж╢рзЗрж╖рзЗ `onPlay(nextSquares)` ржХрж▓ ржХрж░рзЗ **Game component**-ржХрзЗ ржЬрж╛ржирж╛ржирзЛ рж╣ржЪрзНржЫрзЗ ржпрзЗ ржирждрзБржи board state ржкрзНрж░рж╕рзНрждрзБржд, ржПржЦржи history ржУ turn ржЖржкржбрзЗржЯ ржХрж░рж╛рж░ ржжрж╛ржпрж╝рж┐рждрзНржм рждрж╛рж░ред

ржПржнрж╛ржмрзЗ Board ржПржЦржи ржкрзБрж░рзЛржкрзБрж░рж┐ controlled component рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗ тАФ ржЕрж░рзНржерж╛рзО ржПржЯрж┐ ржирж┐ржЬрзЗ state ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рзЗ, parent Game component-ржПрж░ ржУржкрж░ рж╕ржорзНржкрзВрж░рзНржг ржирж┐рж░рзНржнрж░ ржХрж░ржЫрзЗред

ржПржЦржи Board рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ Game ржерзЗржХрзЗ ржкрж╛ржУржпрж╝рж╛ props ржжрзНржмрж╛рж░рж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░рж┐ржд, рждрж╛ржЗ `handlePlay(nextSquares)` ржХрж▓ рж╣рж▓рзЗ Game-ржХрзЗ ржирж┐ржЬрзЗ state ржЖржкржбрзЗржЯ ржХрж░рзЗ re-render ржЯрзНрж░рж┐ржЧрж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред ржЖржЧрзЗ Board рж╕рж░рж╛рж╕рж░рж┐ `setSquares` ржХрж▓ ржХрж░ржд; ржПржЦржи Board ржЖржкржбрзЗржЯрзЗржб `squares` array-ржЯрж┐ `onPlay` ржПрж░ ржорж╛ржзрзНржпржорзЗ Game-ржП ржкрж╛ржарж╛ржЪрзНржЫрзЗред рждрж╛ржЗ `handlePlay`-ржПрж░ ржХрж╛ржЬ рж╣рж▓рзЛтАФржмрж░рзНрждржорж╛ржи `history`-рж░ рж╢рзЗрж╖рзЗ `nextSquares` ржирждрзБржи ржПржХржЯрж┐ entry рж╣рж┐рж╕рзЗржмрзЗ **append** ржХрж░рж╛ ржПржмржВ turn ржкрж╛рж▓рзНржЯрж╛рждрзЗ `xIsNext` **toggle** ржХрж░рж╛ред ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж╛ржЗ рж╕рзЗржЯрж┐ ржХрж░рзЗ:

```jsx
export default function Game() {
  // ...
  function handlePlay(nextSquares) {
    setHistory([...history, nextSquares]); // ржЖржЧрзЗрж░ рж╕ржм state рж░рзЗржЦрзЗ ржирждрзБржи move ржпрзЛржЧ
    setXIsNext(!xIsNext); // X тЖФ O ржкрж╛рж▓рзНржЯрж╛ржирзЛ
  }
  // ...
}
```

`[...history, nextSquares]` ржжрж┐рзЯрзЗ ржПржХржЯрж┐ **ржирждрзБржи array** рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ ржпрзЗржЦрж╛ржирзЗ `history`-рж░ рж╕ржм items ржкрзНрж░ржержорзЗ ржХржкрж┐ рж╣рзЯ, рждрж╛рж░ржкрж░ рж╢рзЗрж╖рзЗ `nextSquares` ржпрзЛржЧ рж╣рзЯтАФржЕрж░рзНржерж╛рзО **immutably append** ржХрж░рж╛ред

ржЙржжрж╛рж╣рж░ржг: ржпржжрж┐ `history` рж╣рзЯ `[[null,null,null], ["X",null,null]]` ржПржмржВ `nextSquares` рж╣рзЯ `["X",null,"O"]`, рждрж╛рж╣рж▓рзЗ ржирждрзБржи array рж╣ржмрзЗ `[[null,null,null], ["X",null,null], ["X",null,"O"]]`тАФржПржЦрж╛ржирзЗ ржЖржЧрзЗрж░ ржжрзБржЗржЯрж┐ state ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд ржерзЗржХрзЗ рж╢рзЗрж╖рзЗ ржирждрзБржи state ржпрзБржХрзНржд рж╣рзЯрзЗржЫрзЗред

ржП ржкрж░рзНржпрж╛рзЯрзЗ state **Game** component-ржП рж╕рзНржерж╛ржирж╛ржирзНрждрж░рж┐ржд рж╣ржУрзЯрж╛рзЯ UI ржЖржЧрзЗрж░ ржорждрзЛржЗ ржХрж╛ржЬ ржХрж░ржмрзЗ, ржЕрж░рзНржерж╛рзО refactor-ржПрж░ ржкрж░рзЗржУ ржЖржЪрж░ржг ржПржХржЗ ржерж╛ржХржмрзЗред

## 12: Showing The Past Moves

ржПржЦржи ржпрзЗрж╣рзЗрждрзБ ржЖржкржирж┐ Tic-Tac-Toe ржЧрзЗржорзЗрж░ **history** рж╕ржВрж░ржХрзНрж╖ржг ржХрж░ржЫрзЗржи, рждрж╛ржЗ рж╕рзЗржЗ history-рж░ ржкрзНрж░рждрж┐ржЯрж┐ move-ржПрж░ рждрж╛рж▓рж┐ржХрж╛ ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝ржХрзЗ ржжрзЗржЦрж╛ржирзЛ рж╕ржорзНржнржмред

React-ржП `<button>` ржмрж╛ ржЕржирзНржп ржпрзЗржХрзЛржирзЛ element ржЖрж╕рж▓рзЗ ржПржХржЯрж┐ **JavaScript object**, рждрж╛ржЗ ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ ржПржЧрзБрж▓рзЛржХрзЗ array ржЖржХрж╛рж░рзЗ рж░рзЗржЦрзЗ map ржХрж░рзЗ ржПржХрж╛ржзрж┐ржХ element рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ ржЗрждрж┐ржоржзрзНржпрзЗржЗ move-ржПрж░ history-рж░ ржПржХржЯрж┐ array ржЖржЫрзЗред ржПржЦржи ржжрж░ржХрж╛рж░ рж╕рзЗржЯрж┐ржХрзЗ ржПржХржЯрж┐ ржирждрзБржи array-рждрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛, ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ item рж╣ржмрзЗ ржПржХржЯрж┐ React element (ржпрзЗржоржи `<li>` ржмрж╛ `<button>`)ред

JavaScript-ржП ржПржХржЯрж┐ array ржерзЗржХрзЗ ржирждрзБржи array рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп **`map()` method** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ element-ржПрж░ ржЙржкрж░ ржХрж╛ржЬ ржХрж░рзЗ ржПржХржЯрж┐ ржирждрзБржи array рждрзИрж░рж┐ ржХрж░рзЗред

ржЙржжрж╛рж╣рж░ржгржГ

```js
[1, 2, 3].map((x) => x * 2); // [2, 4, 6]
```

ржПржнрж╛ржмрзЗржЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ `history` array-ржПрж░ ржкрзНрж░рждрж┐ржЯрж┐ move-ржХрзЗ map ржХрж░рзЗ React element-ржПрж░ ржПржХржЯрж┐ list рждрзИрж░рж┐ ржХрж░ржмрзЗржи, ржпрж╛ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗред

ржПржЦрж╛ржирзЗ `map()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ `history` array-ржХрзЗ ржПржоржиржнрж╛ржмрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ржпрж╛рждрзЗ ржкрзНрж░рждрж┐ржЯрж┐ move-ржПрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ React element (Button рж╕рж╣) рждрзИрж░рж┐ рж╣ржпрж╝ред ржПржЗ Button-ржЧрзБрж▓рзЛ Click ржХрж░рзЗ ржЖржкржирж┐ ржкрзВрж░рзНржмржмрж░рзНрждрзА move-ржП тАЬjumpтАЭ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржПржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ:

```jsx
export default function Game() {
  const [xIsNext, setXIsNext] = useState(true);
  const [history, setHistory] = useState([Array(9).fill(null)]);
  const currentSquares = history[history.length - 1];

  function handlePlay(nextSquares) {
    setHistory([...history, nextSquares]);
    setXIsNext(!xIsNext);
  }

  function jumpTo(nextMove) {
    // TODO
  }

  const moves = history.map((squares, move) => {
    let description;
    if (move > 0) {
      description = "Go to move #" + move;
    } else {
      description = "Go to game start";
    }
    return (
      <li>
        <button onClick={() => jumpTo(move)}>{description}</button>
      </li>
    );
  });

  return (
    <div>
      <div>
        <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
      </div>
      <div>
        <ol>{moves}</ol>
      </div>
    </div>
  );
}
```

ржПржЦрж╛ржирзЗ `history.map()` ржкрзНрж░рждрж┐ржЯрж┐ move-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ `<li>` рждрзИрж░рж┐ ржХрж░ржЫрзЗ ржпрж╛рж░ ржнрж┐рждрж░рзЗ ржПржХржЯрж┐ **Button** рж░ржпрж╝рзЗржЫрзЗред

- ржпржжрж┐ move рж╕ржВржЦрзНржпрж╛ рзж-ржПрж░ ржмрзЗрж╢рж┐ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ Button-ржП рж▓рзЗржЦрж╛ ржерж╛ржХржмрзЗ **тАЬGo to move #moveтАЭ**
- ржЖрж░ ржпржжрж┐ move рзж рж╣ржпрж╝, рждржЦржи рж▓рзЗржЦрж╛ ржерж╛ржХржмрзЗ **тАЬGo to game startтАЭ**

ржкрзНрж░рждрж┐ржЯрж┐ Button-ржПрж░ `onClick` ржЗржнрзЗржирзНржЯрзЗ `jumpTo(move)` ржХрж▓ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛ ржкрж░рзЗ implement ржХрж░рж╛ рж╣ржмрзЗ ржпрж╛рждрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ move-ржП ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред

ржПржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ржЯрж┐ move React element-ржП ржкрж░рж┐ржгржд рж╣ржЪрзНржЫрзЗ ржПржмржВ ржЧрзЗржорзЗрж░ History ржПржЦржи **Button list** ржЖржХрж╛рж░рзЗ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред

ржПржЦржи ржЖржкржирж╛рж░ ржХрзЛржб ржкрзНрж░рж╛ржпрж╝ рж╕ржорзНржкрзВрж░рзНржг рж╕ржарж┐ржХ, ржХрж┐ржирзНрждрзБ React developer console-ржП ржЖржкржирж┐ ржПржХржЯрж┐ warning message ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржи тАФ

```js
Warning: Each child in an array or iterator should have a unique тАЬkeyтАЭ prop. Check the render method of `Game`.

```

### 12.1: Fixing The Warning

ржПржЗ warning-ржПрж░ ржХрж╛рж░ржг рж╣рж▓рзЛ:
ржпржЦржи ржЖржкржирж┐ `history.map()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХрж╛ржзрж┐ржХ React element (ржпрзЗржоржи `<li>`) рж░рзЗржирзНржбрж╛рж░ ржХрж░ржЫрзЗржи, рждржЦржи React ржкрзНрж░рждрзНржпрзЗржХ element-ржХрзЗ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржЪрж┐ржирзЗ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ **unique key** ржкрзНрж░ржпрж╝рзЛржЬржиред

React ржПржЗ `key` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ efficiently ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ ржХрзЛржи element ржирждрзБржи, ржХрзЛржиржЯрж╛ ржкрж░рж┐ржмрж░рзНрждрж┐ржд, ржЖрж░ ржХрзЛржиржЯрж╛ ржорзБржЫрзЗ ржЧрзЗржЫрзЗред

ржЕрж░рзНржерж╛рзО, ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржкрзНрж░рждрж┐ржЯрж┐ `<li>`-ржПрж░ ржоржзрзНржпрзЗ `key` prop ржпрзБржХрзНржд ржХрж░рждрзЗ рж╣ржмрзЗ ЁЯСЗ

```jsx
const moves = history.map((squares, move) => {
  let description;
  if (move > 0) {
    description = "Go to move #" + move;
  } else {
    description = "Go to game start";
  }

  return (
    <li key={move}>
      <button onClick={() => jumpTo(move)}>{description}</button>
    </li>
  );
});
```

ржПржЦрж╛ржирзЗ `key={move}` ржкрзНрж░рждрж┐ржЯрж┐ list item-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ unique identifier рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗред

ржПржЯрж┐ ржпрзЛржЧ ржХрж░рж╛рж░ ржкрж░ console-ржПрж░ warning ржЪрж▓рзЗ ржпрж╛ржмрзЗ, ржПржмржВ React list rendering ржЖрж░ржУ ржХрж╛рж░рзНржпржХрж░ржнрж╛ржмрзЗ (efficiently) ржХрж╛ржЬ ржХрж░ржмрзЗред

## 13: Implementing The Time Travel

`jumpTo` function рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЖржЧрзЗ **Game component**-ржХрзЗ ржЬрж╛ржирждрзЗ рж╣ржмрзЗ user ржмрж░рзНрждржорж╛ржирзЗ ржЧрзЗржорзЗрж░ ржХрзЛржи step (move)-ржП ржЖржЫрзЗржиред
ржПржЗ рждржерзНржп рж░рж╛ржЦрж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржирждрзБржи **state variable** рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛рж░ ржирж╛ржо рж╣ржмрзЗ `currentMove`ред ржПрж░ ржкрзНрж░рж╛ржержорж┐ржХ ржорж╛ржи рж╣ржмрзЗ `0`, ржЕрж░рзНржерж╛рзО ржЧрзЗржорзЗрж░ рж╢рзБрж░рзБ ржЕржмрж╕рзНржерж╛ржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░ржмрзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ ржпрзЛржЧ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
export default function Game() {
  const [xIsNext, setXIsNext] = useState(true);
  const [history, setHistory] = useState([Array(9).fill(null)]);
  const [currentMove, setCurrentMove] = useState(0);
  const currentSquares = history[history.length - 1];
  // ...
}
```

ржПржЦрж╛ржирзЗ тАФ

- `currentMove` state ржмрзЛржЭрж╛ржЪрзНржЫрзЗ player ржПржЦржи ржЧрзЗржорзЗрж░ ржХрзЛржи move ржкрж░рзНржпрж╛ржпрж╝рзЗ ржЖржЫрзЗржиред
- `setCurrentMove` function ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржпрзЗржХрзЛржирзЛ ржкрзВрж░рзНржмржмрж░рзНрждрзА move-ржП **jump back** ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред
- ржкрзНрж░рж╛ржержорж┐ржХржнрж╛ржмрзЗ ржПржЯрж┐ `0` рж╕рзЗржЯ ржХрж░рж╛ ржЖржЫрзЗ, ржЕрж░рзНржерж╛рзО ржЧрзЗржорзЗрж░ ржПржХржжржо рж╢рзБрж░рзБ ржЕржмрж╕рзНржерж╛ржпрж╝ред

ржПржЗ state ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржЖржкржирж┐ `jumpTo()` function implement ржХрж░ржмрзЗржи, ржпрж╛ user-ржХрзЗ history list ржерзЗржХрзЗ ржпрзЗржХрзЛржирзЛ move-ржП ржлрж┐рж░рзЗ ржпрзЗрждрзЗ ржжрзЗржмрзЗред

ржПржЦржи `jumpTo` function-ржЯрж┐ ржПржоржиржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ **currentMove** state ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ ржПржмржВ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ ржкрж░ржмрж░рзНрждрзА turn тАЬXтАЭ ржирж╛ тАЬOтАЭ рж╣ржмрзЗред

ржирж┐ржЪрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ ржХрзЛржбржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
export default function Game() {
  // ...
  function jumpTo(nextMove) {
    setCurrentMove(nextMove);
    setXIsNext(nextMove % 2 === 0);
  }
  // ...
}
```

ржПржЦрж╛ржирзЗ тАФ

- `setCurrentMove(nextMove)` ржжрзНржмрж╛рж░рж╛ ржЧрзЗржорзЗрж░ ржмрж░рзНрждржорж╛ржи move ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред
- `setXIsNext(nextMove % 2 === 0)` ржжрзНржмрж╛рж░рж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ ржПржЦржи ржХрж╛рж░ turn рж╣ржмрзЗ:

  - ржпржжрж┐ move рж╕ржВржЦрзНржпрж╛ **even (ржпрзЗржоржи 0, 2, 4, тАж)** рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ turn рж╣ржмрзЗ **"X"**ред
  - ржЖрж░ ржпржжрж┐ **odd (ржпрзЗржоржи 1, 3, 5, тАж)** рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ turn рж╣ржмрзЗ **"O"**ред

ржПржнрж╛ржмрзЗ ржЖржкржирж┐ ржпржЦржи history list-ржПрж░ ржХрзЛржирзЛ Button-ржП Click ржХрж░ржмрзЗржи, ржЧрзЗржо рж╕рзЗржЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ move-ржП ржлрж┐рж░рзЗ ржпрж╛ржмрзЗ ржПржмржВ turn рж╕ржарж┐ржХржнрж╛ржмрзЗ ржкрзБржирж░рж╛ржпрж╝ рж╕рзЗржЯ рж╣ржмрзЗред

`handlePlay()` function ржПржЦржи ржПржоржиржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ тАЬtime travelтАЭ ржлрж┐ржЪрж╛рж░ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

1я╕ПтГг ржкрзНрж░ржержо ржХрж╛ржЬ тАФ ржпржжрж┐ ржЖржкржирж┐ ржЖржЧрзЗрж░ ржХрзЛржирзЛ move-ржП ржлрж┐рж░рзЗ ржпрж╛ржи (history ржерзЗржХрзЗ) ржПржмржВ рж╕рзЗржЦрж╛ржи ржерзЗржХрзЗ ржирждрзБржи move рж╢рзБрж░рзБ ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ ржЖржЧрзЗрж░ ржнржмрж┐рж╖рзНржпрзО moves ржорзБржЫрзЗ ржлрзЗрж▓рждрзЗ рж╣ржмрзЗред ржПржЬржирзНржп history array-ржПрж░ ржХрзЗржмрж▓ `currentMove + 1` ржкрж░рзНржпржирзНржд ржЕржВрж╢ рж░рзЗржЦрзЗ ржирждрзБржи move (`nextSquares`) ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗред

2я╕ПтГг ржжрзНржмрж┐рждрзАржпрж╝ ржХрж╛ржЬ тАФ ржирждрзБржи move ржпрзБржХрзНржд рж╣ржУржпрж╝рж╛рж░ ржкрж░ `currentMove` ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ **рж╕рж░рзНржмрж╢рзЗрж╖ move** ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ ржПржЗ ржжрзБржЗржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи ржПржХрж╕рж╛ржерзЗ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
function handlePlay(nextSquares) {
  const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
  setHistory(nextHistory);
  setCurrentMove(nextHistory.length - 1);
  setXIsNext(!xIsNext);
}
```

ржПржЦрж╛ржирзЗ тАФ

- `history.slice(0, currentMove + 1)` ржмрж░рзНрждржорж╛ржи move ржкрж░рзНржпржирзНржд history ржХрзЗржЯрзЗ рж░рж╛ржЦрзЗ (ржПрж░ ржкрж░рзЗрж░ржЧрзБрж▓рзЛ ржмрж╛ржж ржжрзЗржпрж╝)ред
- `[... , nextSquares]` ржжрж┐ржпрж╝рзЗ ржирждрзБржи move ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржпрж╝ред
- `setCurrentMove(nextHistory.length - 1)` рж╕рж░рзНржмрж╢рзЗрж╖ move-ржП pointer рж╕рзЗржЯ ржХрж░рзЗред
- `setXIsNext(!xIsNext)` ржжрж┐ржпрж╝рзЗ turn ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржпрж╝ред

ржПржнрж╛ржмрзЗ ржЖржкржирж┐ ржпржжрж┐ ржХрзЛржирзЛ ржкрзБрж░ржирзЛ move-ржП ржЧрж┐ржпрж╝рзЗ ржирждрзБржи ржЪрж╛рж▓ ржжрзЗржи, React рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рзЗржЗ ржкрж░рзНржпржирзНржд history рж░рж╛ржЦржмрзЗ ржПржмржВ ржирждрзБржи branch рж╢рзБрж░рзБ ржХрж░ржмрзЗ тАФ ржарж┐ржХ ржпрзЗржнрж╛ржмрзЗ тАЬtime travelтАЭ ржлрж┐ржЪрж╛рж░ ржХрж╛ржЬ ржХрж░рзЗред

ржПржЦржи Board рж╕ржмрж╕ржорзЯ **рж╢рзЗрж╖ move** ржирж╛ ржжрзЗржЦрж┐рзЯрзЗ, **currently selected move** ржжрзЗржЦрж╛ржмрзЗред ржПржЬржирзНржп `currentSquares` ржЖржЧрзЗ ржпрзЗржЦрж╛ржирзЗ `history[history.length - 1]` ржЫрж┐рж▓, рж╕рзЗржЦрж╛ржирзЗ ржПржЦржи `history[currentMove]` ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЕрж░рзНржерж╛рзО, ржЖржкржирж┐ history list ржерзЗржХрзЗ ржпрзЗ move-ржП Click ржХрж░ржмрзЗржи, `currentMove` рж╕рзЗржЗ index-ржП рж╕рзЗржЯ рж╣ржмрзЗ, ржЖрж░ `currentSquares = history[currentMove]` ржЕржирзБржпрж╛ржпрж╝рзА Board render рж╣ржмрзЗред ржлрж▓рзЗ history-рж░ ржХрзЛржирзЛ step-ржП Click ржХрж░рж▓рзЗржЗ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ рж╕рзЗржЗ step-ржкрж░ржмрж░рзНрждрзА ржмрзЛрж░рзНржбрзЗрж░ ржЕржмрж╕рзНржерж╛ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред

## 14: Final Cleanup

`xIsNext` state ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж░рж╛ржЦрж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗ ржХрж╛рж░ржг ржПржЯрж┐ рж╕ржмрж╕ржоржпрж╝ `currentMove`-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓ред
ржпржжрж┐ `currentMove` even рж╣ржпрж╝ (рзж, рзи, рзк тАж), рждрж╛рж╣рж▓рзЗ `xIsNext === true` ржЕрж░рзНржерж╛рзО тАЬXтАЭ-ржПрж░ turn,
ржЖрж░ ржпржжрж┐ odd рж╣ржпрж╝ (рзз, рзй, рзл тАж), рждрж╛рж╣рж▓рзЗ `xIsNext === false` ржЕрж░рзНржерж╛рзО тАЬOтАЭ-ржПрж░ turnред

рждрж╛ржЗ `xIsNext` ржЖрж▓рж╛ржжрж╛ state рж╣рж┐рж╕рзЗржмрзЗ рж░рж╛ржЦрж╛ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ (redundant)ред ржПржнрж╛ржмрзЗ state ржХржорж┐ржпрж╝рзЗ ржжрж┐рж▓рзЗ bug-ржПрж░ рж╕ржорзНржнрж╛ржмржирж╛ ржХржорзЗ ржПржмржВ ржХрзЛржбржУ ржЖрж░ржУ рж╕рж╣ржЬ рж╣ржпрж╝ред

ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ рж╕рзЗржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ ЁЯСЗ

```jsx
export default function Game() {
  const [history, setHistory] = useState([Array(9).fill(null)]);
  const [currentMove, setCurrentMove] = useState(0);
  const xIsNext = currentMove % 2 === 0;
  const currentSquares = history[currentMove];

  function handlePlay(nextSquares) {
    const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
    setHistory(nextHistory);
    setCurrentMove(nextHistory.length - 1);
  }

  function jumpTo(nextMove) {
    setCurrentMove(nextMove);
  }

  // ...
}
```

ржПржнрж╛ржмрзЗ ржПржЦржи `xIsNext` ржЖрж░ state-ржП рж░рж╛ржЦрж╛ рж▓рж╛ржЧржЫрзЗ ржирж╛, ржмрж░ржВ ржПржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ `currentMove` ржерзЗржХрзЗ ржирж┐рж░рзНржзрж╛рж░рж┐ржд рж╣ржЪрзНржЫрзЗред ржлрж▓рзЗ `xIsNext` ржПржмржВ `currentMove` ржХржЦржирзЛржЗ out of sync рж╣ржмрзЗ ржирж╛, ржПржоржиржХрж┐ ржХрзЛржбрзЗ ржнрзБрж▓ ржерж╛ржХрж▓рзЗржУред

## 15: Wrapping up

Congratulations! YouтАЩve created a tic-tac-toe game that:

1. Lets you play tic-tac-toe,
2. Indicates when a player has won the game,
3. Stores a gameтАЩs history as a game progresses,
4. Allows players to review a gameтАЩs history and see previous versions of a gameтАЩs board.

Nice work! We hope you now feel like you have a decent grasp of how React works.
